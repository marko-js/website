<!DOCTYPE html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width, initial-scale=1.0"><meta name=description content="The Marko programming language"><title>Core Tags | Marko</title><link rel=icon sizes=32x32 href=/fav.png><link rel=icon type=image/svg+xml href=/fav.svg><link rel=preconnect href=https://GB0QQV5RQM-dsn.algolia.net crossorigin><script async type="module" crossorigin src="/assets/route.marko-Cu7DzEUr.js"></script><link rel="modulepreload" crossorigin href="/assets/_DpVzT43I.js"><link rel="modulepreload" crossorigin href="/assets/_BaIVJv-1.js"><link rel="modulepreload" crossorigin href="/assets/_qZdLGdkF.js"><link rel="stylesheet" crossorigin href="/assets/_layout-B03op1f5.css"><link rel="stylesheet" crossorigin href="/assets/_layout-hmI-Y7H7.css"><link rel="stylesheet" crossorigin href="/assets/app-code-block-DzvS1Xn3.css"></head><body><div id=root><header id=header><a title=Home href="/" id=_cZ><picture><source srcset=/logo.svg#dark media=(prefers-color-scheme:dark)><img alt="Marko Logo" src=/logo.svg></picture></a><div class=_cX><a href=/docs>Docs</a><a href=/playground>Playground</a><a href=https://github.com/marko-js/marko>GitHub</a></div><button aria-pressed=false aria-label="Show menu" id=_cY></button><!--M_*6 2--><div id=_c0><button disabled aria-hidden=true></button></div><!--M_*6 3--></header><main><script>document.documentElement.classList.toggle("concise-mode",localStorage.getItem("concise-mode")==='true');</script><script>document.documentElement.classList.toggle("ts-mode",localStorage.getItem("ts-mode")==='true');</script><div class=_cQ id=site-menu><nav class=_cR id=_cS><ul><li><strong>Introduction</strong><ul><li><a href=/docs/introduction/getting-started>Getting Started</a></li><li><a href=/docs/introduction/welcome-to-marko>Welcome to Marko!</a></li><li><a href=/docs/introduction/installation>Installation</a></li><li><a href=/docs/introduction/why-marko>Why Marko?</a></li><li><a href=/docs/introduction/integrations>Integrations</a></li></ul></li><li><strong>Tutorials</strong><ul><li><a href=/docs/tutorial/fundamentals>Fundamentals</a></li><li><a href=/docs/tutorial/components-and-reactivity>Components and Reactivity</a></li></ul></li><li><strong>Guides</strong><ul><li><a href=/docs/guide/styling>Styling</a></li></ul></li><li><strong>Explanation</strong><ul><li><a href=/docs/explanation/streaming>Streaming</a></li><li><a href=/docs/explanation/targeted-compilation>Targeted Compilation</a></li><li><a href=/docs/explanation/fine-grained-bundling>Fine-Grained Bundling</a></li><li><a href=/docs/explanation/separation-of-concerns>Separation of Concerns</a></li><li><a href=/docs/explanation/controllable-components>Controllable Components</a></li><li><a href=/docs/explanation/nested-reactivity>Nested Reactivity</a></li><li><a href=/docs/explanation/immutable-state>Immutable State</a></li><li><a href=/docs/explanation/serializable-state>Serializable State</a></li></ul></li><li><strong>Reference</strong><ul><li><a href=/docs/reference/language>Language</a></li><li><a href=/docs/reference/custom-tag>Custom Tags</a></li><li><a href=/docs/reference/reactivity>Reactivity</a></li><li><a href=/docs/reference/core-tag aria-current=true>Core Tags</a></li><li><a href=/docs/reference/native-tag>Native Tags</a></li><li><a href=/docs/reference/concise-syntax>Concise Syntax</a></li><li><a href=/docs/reference/template>Template API</a></li><li><a href=/docs/reference/typescript>TypeScript</a></li></ul></li><li><strong>Marko Run</strong><ul><li><a href=/docs/marko-run/getting-started>Getting Started</a></li><li><a href=/docs/marko-run/file-based-routing>File-based Routing</a></li><li><a href=/docs/marko-run/typescript>TypeScript</a></li></ul></li></ul></nav><div id=_cU><label class=_cV>Version&nbsp;<select><option value selected>6.x</option><option value=https://v5.markojs.com/docs/getting-started>5.x</option><option value="http://marko-v4.github.io/docs/">4.x</option><option value="http://v3.markojs.com/docs/">3.x</option><option value="http://marko-v2.github.io/docs/">2.x</option></select><!--M_*7 37--></label><label class=_n><span>HTML<!--M_*66 1--></span><span class=_m><input type=checkbox aria-label="Toggle Concise mode"><!--M_*66 3--><svg viewBox="0 0 576 512"><path d="M384 128c70.7 0 128 57.3 128 128S454.7 384 384 384l-192 0c-70.7 0-128-57.3-128-128s57.3-128 128-128l192 0zM576 256c0-106-86-192-192-192L192 64C86 64 0 150 0 256S86 448 192 448l192 0c106 0 192-86 192-192zM192 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"></path></svg><!--M_*67 0--></span><span>Concise<!--M_*66 5--></span></label><label class=_n><span>JS<!--M_*69 1--></span><span class=_m><input type=checkbox aria-label="Toggle TS mode"><!--M_*69 3--><svg viewBox="0 0 576 512"><path d="M384 128c70.7 0 128 57.3 128 128S454.7 384 384 384l-192 0c-70.7 0-128-57.3-128-128s57.3-128 128-128l192 0zM576 256c0-106-86-192-192-192L192 64C86 64 0 150 0 256S86 448 192 448l192 0c106 0 192-86 192-192zM192 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"></path></svg><!--M_*70 0--></span><span>TS<!--M_*69 5--></span></label></div></div><article id=_dl><h1 id=core-tags>Core Tags</h1><section id=if--else><h2><a href=#if--else><code>&lt;if></code> / <code>&lt;else></code></a></h2><p>The <code>&lt;if></code> and <code>&lt;else></code> control flow tags are used to conditionally display content or apply <a href=./language#attribute-tags>attribute tags</a>.</p><p>An <code>&lt;if></code> is applied when its <code>value=</code> attribute (<a href=./language#shorthand-value>shorthand used below</a>) is <a href=https://developer.mozilla.org/en-US/docs/Glossary/Truthy>truthy</a> and may be followed by an <code>&lt;else></code>.</p><p>The <code>&lt;else></code> tag may have its own condition as an <code>if=</code> attribute. When it has a condition, the condition is checked before the <code>&lt;else></code> is applied and another <code>&lt;else></code> may follow.</p><p>Expressions in the if/else chain are evaluated in order.</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_1">if</span><span class="s_2">=EXPRESSION</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  Body A</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">if</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">else</span><span class="s_3"> if</span><span class="s_2">=ANOTHER_EXPRESSION</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  Body B</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">else</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">else</span><span class="s_0">>Body C&#x3C;/</span><span class="s_1">else</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">if</span><span class="s_2">=EXPRESSION</span><span class="s_0"> -- Body A</span></span>
<span class="line"><span class="s_1">else</span><span class="s_3"> if</span><span class="s_2">=ANOTHER_EXPRESSION</span><span class="s_0"> -- Body B</span></span>
<span class="line"><span class="s_1">else</span><span class="s_0"> -- Body C</span></span></code></pre></div></div><style>.s_0{--shiki-light:#202124;--shiki-dark:#FFF}.s_1{--shiki-light:#D91880;--shiki-dark:#FF4185}.s_2{--shiki-light:#202124;--shiki-dark:#FFFFFF}.s_3{--shiki-light:#46821C;--shiki-dark:#A6E22E}.s_4{--shiki-light:#202124;--shiki-dark:#FFF;--shiki-light-bg:#00000000;--shiki-dark-bg:#00000000}</style></section><section id=for><h2><a href=#for><code>&lt;for></code></a></h2><p>The <code>&lt;for></code> control flow tag allows for writing content or applying <a href=./language#attribute-tags>attribute tags</a> while iterating. Its <a href=./language#tag-content>content</a> has access to information about each iteration through the <a href=./language#tag-parameters>Tag Parameters</a>.</p><p>The <code>&lt;for></code> tag can iterate over:</p><ul><li><p>Arrays and <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#the_iterable_protocol>Iterables</a> with the <code>of=</code> attribute</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_1">for</span><span class="s_0">|</span><span class="s_5">item</span><span class="s_0">, </span><span class="s_5">index</span><span class="s_0">| </span><span class="s_3">of</span><span class="s_2">=</span><span class="s_0">[</span><span class="s_6">"a"</span><span class="s_0">, </span><span class="s_6">"b"</span><span class="s_0">, </span><span class="s_6">"c"</span><span class="s_0">]></span></span>
<span class="line"><span class="s_7">  ${</span><span class="s_2">index</span><span class="s_7">}</span><span class="s_0">: </span><span class="s_7">${</span><span class="s_2">item</span><span class="s_7">}</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">for</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">for</span><span class="s_0">|</span><span class="s_5">item</span><span class="s_0">, </span><span class="s_5">index</span><span class="s_0">| </span><span class="s_3">of</span><span class="s_2">=</span><span class="s_0">[</span><span class="s_6">"a"</span><span class="s_0">, </span><span class="s_6">"b"</span><span class="s_0">, </span><span class="s_6">"c"</span><span class="s_0">] -- </span><span class="s_7">${</span><span class="s_2">index</span><span class="s_7">}</span><span class="s_0">: </span><span class="s_7">${</span><span class="s_2">item</span><span class="s_7">}</span></span></code></pre></div></div><style>.s_5{--shiki-light:#B05C1C;--shiki-light-font-style:italic;--shiki-dark:#FFB86C;--shiki-dark-font-style:italic}.s_6{--shiki-light:#8A720A;--shiki-dark:#FFF066}.s_7{--shiki-light:#0D7BBF;--shiki-dark:#66D9EF}</style></li><li><p>Object properties and values with the <code>in=</code> attribute</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_1">for</span><span class="s_0">|</span><span class="s_5">key</span><span class="s_0">, </span><span class="s_5">value</span><span class="s_0">| </span><span class="s_3">in</span><span class="s_2">=</span><span class="s_0">{a: </span><span class="s_8">1</span><span class="s_0">, b: </span><span class="s_8">2</span><span class="s_0">, c: </span><span class="s_8">3</span><span class="s_0">}></span></span>
<span class="line"><span class="s_7">  ${</span><span class="s_2">key</span><span class="s_7">}</span><span class="s_0">: </span><span class="s_7">${</span><span class="s_2">value</span><span class="s_7">}</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">for</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">for</span><span class="s_0">|</span><span class="s_5">key</span><span class="s_0">, </span><span class="s_5">value</span><span class="s_0">| </span><span class="s_3">in</span><span class="s_2">=</span><span class="s_0">{a: </span><span class="s_8">1</span><span class="s_0">, b: </span><span class="s_8">2</span><span class="s_0">, c: </span><span class="s_8">3</span><span class="s_0">} -- </span><span class="s_7">${</span><span class="s_2">key</span><span class="s_7">}</span><span class="s_0">: </span><span class="s_7">${</span><span class="s_2">value</span><span class="s_7">}</span></span></code></pre></div></div><style>.s_8{--shiki-light:#7C4DFF;--shiki-dark:#AE81FF}</style></li><li><p><strong>Exclusive</strong> ranges of numbers with the <code>until=</code>, <code>from=</code>, and <code>step=</code> attributes</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_1">for</span><span class="s_0">|</span><span class="s_5">num</span><span class="s_0">| </span><span class="s_3">until</span><span class="s_2">=</span><span class="s_8">5</span><span class="s_0">></span></span>
<span class="line"><span class="s_7">  ${</span><span class="s_2">num</span><span class="s_7">}</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">for</span><span class="s_0">></span></span>
<span class="line"><span class="s_9">// 0 1 2 3 4</span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">for</span><span class="s_0">|</span><span class="s_5">num</span><span class="s_0">| </span><span class="s_3">from</span><span class="s_2">=</span><span class="s_8">3</span><span class="s_3"> until</span><span class="s_2">=</span><span class="s_8">7</span><span class="s_0">></span></span>
<span class="line"><span class="s_7">  ${</span><span class="s_2">num</span><span class="s_7">}</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">for</span><span class="s_0">></span></span>
<span class="line"><span class="s_9">// 3 4 5 6</span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">for</span><span class="s_0">|</span><span class="s_5">num</span><span class="s_0">| </span><span class="s_3">from</span><span class="s_2">=</span><span class="s_8">2</span><span class="s_3"> until</span><span class="s_2">=</span><span class="s_8">10</span><span class="s_3"> step</span><span class="s_2">=</span><span class="s_8">2</span><span class="s_0">></span></span>
<span class="line"><span class="s_7">  ${</span><span class="s_2">num</span><span class="s_7">}</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">for</span><span class="s_0">></span></span>
<span class="line"><span class="s_9">// 2 4 6 8</span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">for</span><span class="s_0">|</span><span class="s_5">num</span><span class="s_0">| </span><span class="s_3">until</span><span class="s_2">=</span><span class="s_8">5</span><span class="s_0"> -- </span><span class="s_7">${</span><span class="s_2">num</span><span class="s_7">}</span></span>
<span class="line"><span class="s_9">// 0 1 2 3 4</span></span>
<span class="line"></span>
<span class="line"><span class="s_1">for</span><span class="s_0">|</span><span class="s_5">num</span><span class="s_0">| </span><span class="s_3">from</span><span class="s_2">=</span><span class="s_8">3</span><span class="s_3"> until</span><span class="s_2">=</span><span class="s_8">7</span><span class="s_0"> -- </span><span class="s_7">${</span><span class="s_2">num</span><span class="s_7">}</span></span>
<span class="line"><span class="s_9">// 3 4 5 6</span></span>
<span class="line"></span>
<span class="line"><span class="s_1">for</span><span class="s_0">|</span><span class="s_5">num</span><span class="s_0">| </span><span class="s_3">from</span><span class="s_2">=</span><span class="s_8">2</span><span class="s_3"> until</span><span class="s_2">=</span><span class="s_8">10</span><span class="s_3"> step</span><span class="s_2">=</span><span class="s_8">2</span><span class="s_0"> -- </span><span class="s_7">${</span><span class="s_2">num</span><span class="s_7">}</span></span>
<span class="line"><span class="s_9">// 2 4 6 8</span></span></code></pre></div></div><style>.s_9{--shiki-light:#73738C;--shiki-dark:#8F8F9E}</style></li><li><p><strong>Inclusive</strong> ranges of numbers with the <code>to=</code>, <code>from=</code>, and <code>step=</code> attributes</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_1">for</span><span class="s_0">|</span><span class="s_5">num</span><span class="s_0">| </span><span class="s_3">to</span><span class="s_2">=</span><span class="s_8">5</span><span class="s_0">></span></span>
<span class="line"><span class="s_7">  ${</span><span class="s_2">num</span><span class="s_7">}</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">for</span><span class="s_0">></span></span>
<span class="line"><span class="s_9">// 0 1 2 3 4 5</span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">for</span><span class="s_0">|</span><span class="s_5">num</span><span class="s_0">| </span><span class="s_3">from</span><span class="s_2">=</span><span class="s_8">3</span><span class="s_3"> to</span><span class="s_2">=</span><span class="s_8">7</span><span class="s_0">></span></span>
<span class="line"><span class="s_7">  ${</span><span class="s_2">num</span><span class="s_7">}</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">for</span><span class="s_0">></span></span>
<span class="line"><span class="s_9">// 3 4 5 6 7</span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">for</span><span class="s_0">|</span><span class="s_5">num</span><span class="s_0">| </span><span class="s_3">from</span><span class="s_2">=</span><span class="s_8">2</span><span class="s_3"> to</span><span class="s_2">=</span><span class="s_8">10</span><span class="s_3"> step</span><span class="s_2">=</span><span class="s_8">2</span><span class="s_0">></span></span>
<span class="line"><span class="s_7">  ${</span><span class="s_2">num</span><span class="s_7">}</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">for</span><span class="s_0">></span></span>
<span class="line"><span class="s_9">// 2 4 6 8 10</span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">for</span><span class="s_0">|</span><span class="s_5">num</span><span class="s_0">| </span><span class="s_3">to</span><span class="s_2">=</span><span class="s_8">5</span><span class="s_0"> -- </span><span class="s_7">${</span><span class="s_2">num</span><span class="s_7">}</span></span>
<span class="line"><span class="s_9">// 0 1 2 3 4 5</span></span>
<span class="line"></span>
<span class="line"><span class="s_1">for</span><span class="s_0">|</span><span class="s_5">num</span><span class="s_0">| </span><span class="s_3">from</span><span class="s_2">=</span><span class="s_8">3</span><span class="s_3"> to</span><span class="s_2">=</span><span class="s_8">7</span><span class="s_0"> -- </span><span class="s_7">${</span><span class="s_2">num</span><span class="s_7">}</span></span>
<span class="line"><span class="s_9">// 3 4 5 6 7</span></span>
<span class="line"></span>
<span class="line"><span class="s_1">for</span><span class="s_0">|</span><span class="s_5">num</span><span class="s_0">| </span><span class="s_3">from</span><span class="s_2">=</span><span class="s_8">2</span><span class="s_3"> to</span><span class="s_2">=</span><span class="s_8">10</span><span class="s_3"> step</span><span class="s_2">=</span><span class="s_8">2</span><span class="s_0"> -- </span><span class="s_7">${</span><span class="s_2">num</span><span class="s_7">}</span></span>
<span class="line"><span class="s_9">// 2 4 6 8 10</span></span></code></pre></div></div></li></ul><p>The <code>&lt;for></code> tag has a <code>by=</code> attribute which helps preserve state while reordering content within the loop. The value should be a function (which receives the same parameters as the loop itself) that is used to give each iteration a unique key.</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_1">for</span><span class="s_0">|</span><span class="s_5">user</span><span class="s_0">| </span><span class="s_3">of</span><span class="s_2">=users</span><span class="s_3"> by</span><span class="s_2">=</span><span class="s_5">user</span><span class="s_a"> =></span><span class="s_2"> user</span><span class="s_0">.</span><span class="s_2">id</span><span class="s_0">></span></span>
<span class="line"><span class="s_7">  ${</span><span class="s_2">user</span><span class="s_0">.</span><span class="s_2">firstName</span><span class="s_7">}</span><span class="s_7"> ${</span><span class="s_2">user</span><span class="s_0">.</span><span class="s_2">lastName</span><span class="s_7">}</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">for</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">for</span><span class="s_0">|</span><span class="s_5">user</span><span class="s_0">| </span><span class="s_3">of</span><span class="s_2">=users</span><span class="s_3"> by</span><span class="s_2">=</span><span class="s_5">user</span><span class="s_a"> =></span><span class="s_2"> user</span><span class="s_0">.</span><span class="s_2">id</span><span class="s_0"> -- </span><span class="s_7">${</span><span class="s_2">user</span><span class="s_0">.</span><span class="s_2">firstName</span><span class="s_7">}</span><span class="s_7"> ${</span><span class="s_2">user</span><span class="s_0">.</span><span class="s_2">lastName</span><span class="s_7">}</span></span></code></pre></div></div><style>.s_a{--shiki-light:#0D7BBF;--shiki-light-font-style:italic;--shiki-dark:#5BD7FF;--shiki-dark-font-style:italic}</style><p>The <code>by=</code> attribute above keys each iteration by its <code>user.id</code> property.</p><p>Additionally, when using the <code>of=</code> attribute, <code>by=</code> may be a string. This will key the items by the corresponding property on each item.</p><p>This means the previous example can simplified to:</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_1">for</span><span class="s_0">|</span><span class="s_5">user</span><span class="s_0">| </span><span class="s_3">of</span><span class="s_2">=users</span><span class="s_3"> by</span><span class="s_2">=</span><span class="s_6">"id"</span><span class="s_0">></span></span>
<span class="line"><span class="s_7">  ${</span><span class="s_2">user</span><span class="s_0">.</span><span class="s_2">firstName</span><span class="s_7">}</span><span class="s_7"> ${</span><span class="s_2">user</span><span class="s_0">.</span><span class="s_2">lastName</span><span class="s_7">}</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">for</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">for</span><span class="s_0">|</span><span class="s_5">user</span><span class="s_0">| </span><span class="s_3">of</span><span class="s_2">=users</span><span class="s_3"> by</span><span class="s_2">=</span><span class="s_6">"id"</span><span class="s_0"> -- </span><span class="s_7">${</span><span class="s_2">user</span><span class="s_0">.</span><span class="s_2">firstName</span><span class="s_7">}</span><span class="s_7"> ${</span><span class="s_2">user</span><span class="s_0">.</span><span class="s_2">lastName</span><span class="s_7">}</span></span></code></pre></div></div></section><section id=let><h2><a href=#let><code>&lt;let></code></a></h2><p>The <code>&lt;let></code> tag introduces mutable state through its <a href=./language#tag-variables>Tag Variable</a>.</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">x=</span><span class="s_8">1</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">x=</span><span class="s_8">1</span></span></code></pre></div></div><p>The <code>value=</code> attribute (usually with a <a href=./language#shorthand-value>shorthand</a>) provides an initial value for its state.</p><p>When a tag variable is updated, everywhere it is used also re-runs. This is the core of Marko&#39;s reactive system.</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">count=</span><span class="s_8">1</span><span class="s_0">></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">button</span><span class="s_b"> onClick</span><span class="s_0">() { </span><span class="s_2">count</span><span class="s_1">++</span><span class="s_0"> }></span></span>
<span class="line"><span class="s_0">  Current count: </span><span class="s_7">${</span><span class="s_2">count</span><span class="s_7">}</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">button</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">count=</span><span class="s_8">1</span></span>
<span class="line"></span>
<span class="line"><span class="s_1">button</span><span class="s_b"> onClick</span><span class="s_0">() { </span><span class="s_2">count</span><span class="s_1">++</span><span class="s_0"> } -- Current count: </span><span class="s_7">${</span><span class="s_2">count</span><span class="s_7">}</span></span></code></pre></div></div><style>.s_b{--shiki-light:#0D7BBF;--shiki-light-font-style:italic;--shiki-dark:#66D9EF;--shiki-dark-font-style:italic}</style><p>In this template, <code>count</code> is incremented when the button is clicked. Since <code>count</code> is a <a href=./language#tag-variables>Tag Variable</a>, it will cause any downstream expression (in this case the text in the button) to be updated every time it changes.</p><callout role=note aria-labelledby=callout-cot-0 class=admonition-note><cot id=callout-cot-0>Note</cot><p>The <code>&lt;let></code> tag is not reactive to changes in its <code>value=</code> attribute unless it is <a href=#controllable-let>controllable</a>. Its tag variable updates only through direct assignment or its change handler.</p><div class=code-block><div class=html><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">count=input</span><span class="s_0">.</span><span class="s_2">initialCount</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">p</span><span class="s_0">>Count: </span><span class="s_7">${</span><span class="s_2">count</span><span class="s_7">}</span><span class="s_0">&#x3C;/</span><span class="s_1">p</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">p</span><span class="s_0">>Input Count: </span><span class="s_7">${</span><span class="s_2">input</span><span class="s_0">.</span><span class="s_2">initialCount</span><span class="s_7">}</span><span class="s_0">&#x3C;/</span><span class="s_1">p</span><span class="s_0">></span></span></code></pre></div><div class=html-ts><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">export</span><span class="s_a"> interface</span><span class="s_0"> Input {</span></span>
<span class="line"><span class="s_2">  initialCount</span><span class="s_1">:</span><span class="s_b"> number</span><span class="s_0">;</span></span>
<span class="line"><span class="s_0">}</span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">count=input</span><span class="s_0">.</span><span class="s_2">initialCount</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">p</span><span class="s_0">>Count: </span><span class="s_7">${</span><span class="s_2">count</span><span class="s_7">}</span><span class="s_0">&#x3C;/</span><span class="s_1">p</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">p</span><span class="s_0">>Input Count: </span><span class="s_7">${</span><span class="s_2">input</span><span class="s_0">.</span><span class="s_2">initialCount</span><span class="s_7">}</span><span class="s_0">&#x3C;/</span><span class="s_1">p</span><span class="s_0">></span></span></code></pre></div><div class=concise><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">count=input</span><span class="s_0">.</span><span class="s_2">initialCount</span></span>
<span class="line"><span class="s_1">p</span><span class="s_0"> -- Count: </span><span class="s_7">${</span><span class="s_2">count</span><span class="s_7">}</span></span>
<span class="line"><span class="s_1">p</span><span class="s_0"> -- Input Count: </span><span class="s_7">${</span><span class="s_2">input</span><span class="s_0">.</span><span class="s_2">initialCount</span><span class="s_7">}</span></span></code></pre></div><div class=concise-ts><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">export</span><span class="s_a"> interface</span><span class="s_0"> Input {</span></span>
<span class="line"><span class="s_2">  initialCount</span><span class="s_1">:</span><span class="s_b"> number</span><span class="s_0">;</span></span>
<span class="line"><span class="s_0">}</span></span>
<span class="line"></span>
<span class="line"><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">count=input</span><span class="s_0">.</span><span class="s_2">initialCount</span></span>
<span class="line"><span class="s_1">p</span><span class="s_0"> -- Count: </span><span class="s_7">${</span><span class="s_2">count</span><span class="s_7">}</span></span>
<span class="line"><span class="s_1">p</span><span class="s_0"> -- Input Count: </span><span class="s_7">${</span><span class="s_2">input</span><span class="s_0">.</span><span class="s_2">initialCount</span><span class="s_7">}</span></span></code></pre></div></div><p>Here, even if <code>input.initialCount</code> changes, <code>count</code> remains at its initial value.</p></callout><section id=controllable-let><h3><a href=#controllable-let>Controllable Let</a></h3><p>The <code>&lt;let></code> tag can be made <strong>controllable</strong> using its <code>valueChange=</code> attribute, similarly to <a href=./native-tag#change-handlers>native tag change handlers</a>. This enables interception and transformation of state changes, or synchronization of state between parent and child components.</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">value=</span><span class="s_6">"HELLO"</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">controlled_value=value</span><span class="s_b"> valueChange</span><span class="s_0">(</span><span class="s_2">newValue</span><span class="s_0">) { </span><span class="s_2">value</span><span class="s_2"> =</span><span class="s_2"> newValue</span><span class="s_0">.</span><span class="s_c">toUpperCase</span><span class="s_0">() }></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">value=</span><span class="s_6">"HELLO"</span></span>
<span class="line"><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">controlled_value=value</span><span class="s_b"> valueChange</span><span class="s_0">(</span><span class="s_2">newValue</span><span class="s_0">) { </span><span class="s_2">value</span><span class="s_2"> =</span><span class="s_2"> newValue</span><span class="s_0">.</span><span class="s_c">toUpperCase</span><span class="s_0">() }</span></span></code></pre></div></div><style>.s_c{--shiki-light:#1D8649;--shiki-dark:#7FFF00}</style><p>In this example:</p><ol><li><code>value</code> holds the base state with an initial value of &quot;HELLO&quot;</li><li><code>controlled_value</code> reflects the value of <code>value</code>, but its <code>valueChange</code> handler ensures all updates are uppercase</li><li>Any changes to <code>controlled_value</code> are intercepted, transformed to uppercase, and stored in <code>value</code></li></ol><p>A more common use case is creating state that can be optionally controlled by a parent component:</p><div class=code-block><div class=filename>counter.marko</div><div class=html><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">count</span><span class="s_0">:</span><span class="s_2">=input</span><span class="s_0">.</span><span class="s_2">count</span><span class="s_0">></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">button</span><span class="s_b"> onClick</span><span class="s_0">() { </span><span class="s_2">count</span><span class="s_1">++</span><span class="s_0"> }></span></span>
<span class="line"><span class="s_0">  Clicked </span><span class="s_7">${</span><span class="s_2">count</span><span class="s_7">}</span><span class="s_0"> times</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">button</span><span class="s_0">></span></span></code></pre></div><div class=html-ts><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">export</span><span class="s_a"> interface</span><span class="s_0"> Input {</span></span>
<span class="line"><span class="s_2">  count</span><span class="s_1">:</span><span class="s_b"> number</span><span class="s_0">;</span></span>
<span class="line"><span class="s_c">  countChange</span><span class="s_1">?:</span><span class="s_0"> (</span><span class="s_5">count</span><span class="s_1">:</span><span class="s_b"> number</span><span class="s_0">) </span><span class="s_a">=></span><span class="s_b"> void</span><span class="s_0">;</span></span>
<span class="line"><span class="s_0">}</span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">count</span><span class="s_0">:</span><span class="s_2">=input</span><span class="s_0">.</span><span class="s_2">count</span><span class="s_0">></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">button</span><span class="s_b"> onClick</span><span class="s_0">() { </span><span class="s_2">count</span><span class="s_1">++</span><span class="s_0"> }></span></span>
<span class="line"><span class="s_0">  Clicked </span><span class="s_7">${</span><span class="s_2">count</span><span class="s_7">}</span><span class="s_0"> times</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">button</span><span class="s_0">></span></span></code></pre></div><div class=concise><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">count</span><span class="s_0">:</span><span class="s_2">=input</span><span class="s_0">.</span><span class="s_2">count</span></span>
<span class="line"></span>
<span class="line"><span class="s_1">button</span><span class="s_b"> onClick</span><span class="s_0">() { </span><span class="s_2">count</span><span class="s_1">++</span><span class="s_0"> } -- Clicked </span><span class="s_7">${</span><span class="s_2">count</span><span class="s_7">}</span><span class="s_0"> times</span></span></code></pre></div><div class=concise-ts><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">export</span><span class="s_a"> interface</span><span class="s_0"> Input {</span></span>
<span class="line"><span class="s_2">  count</span><span class="s_1">:</span><span class="s_b"> number</span><span class="s_0">;</span></span>
<span class="line"><span class="s_c">  countChange</span><span class="s_1">?:</span><span class="s_0"> (</span><span class="s_5">count</span><span class="s_1">:</span><span class="s_b"> number</span><span class="s_0">) </span><span class="s_a">=></span><span class="s_b"> void</span><span class="s_0">;</span></span>
<span class="line"><span class="s_0">}</span></span>
<span class="line"></span>
<span class="line"><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">count</span><span class="s_0">:</span><span class="s_2">=input</span><span class="s_0">.</span><span class="s_2">count</span></span>
<span class="line"></span>
<span class="line"><span class="s_1">button</span><span class="s_b"> onClick</span><span class="s_0">() { </span><span class="s_2">count</span><span class="s_1">++</span><span class="s_0"> } -- Clicked </span><span class="s_7">${</span><span class="s_2">count</span><span class="s_7">}</span><span class="s_0"> times</span></span></code></pre></div></div><p>This creates two possible behaviors:</p><ol><li><p><strong>Uncontrolled</strong>: If the parent only provides <code>count=</code>, the child maintains its own state:</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_1">counter</span><span class="s_3"> count</span><span class="s_2">=</span><span class="s_8">0</span><span class="s_0">/></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">counter</span><span class="s_3"> count</span><span class="s_2">=</span><span class="s_8">0</span></span></code></pre></div></div></li><li><p><strong>Controlled</strong>: If the parent provides both <code>count=</code> and <code>countChange=</code>, the parent takes control of the state:</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">count=</span><span class="s_8">0</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">counter</span><span class="s_3"> count</span><span class="s_0">:</span><span class="s_2">=count</span><span class="s_0">/></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">button</span><span class="s_b"> onClick</span><span class="s_0">() { </span><span class="s_2">count</span><span class="s_2"> =</span><span class="s_8"> 0</span><span class="s_0"> }></span></span>
<span class="line"><span class="s_0">  Reset</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">button</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">count=</span><span class="s_8">0</span></span>
<span class="line"><span class="s_1">counter</span><span class="s_3"> count</span><span class="s_0">:</span><span class="s_2">=count</span></span>
<span class="line"><span class="s_1">button</span><span class="s_b"> onClick</span><span class="s_0">() { </span><span class="s_2">count</span><span class="s_2"> =</span><span class="s_8"> 0</span><span class="s_0"> } -- Reset</span></span></code></pre></div></div></li></ol></section></section><section id=const><h2><a href=#const><code>&lt;const></code></a></h2><p>The <code>&lt;const></code> exposes its <code>value=</code> attribute (usually with a <a href=./language#shorthand-value>shorthand</a>) through its <a href=./language#tag-variables>Tag Variable</a>.</p><p>Extending the <a href=#let><code>&lt;let></code></a> example we could derive data from the <code>count</code> state like so:</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">count=</span><span class="s_8">1</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_7">const</span><span class="s_0">/</span><span class="s_2">doubleCount=count</span><span class="s_1"> *</span><span class="s_8"> 2</span><span class="s_0">></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">button</span><span class="s_b"> onClick</span><span class="s_0">() { </span><span class="s_2">count</span><span class="s_1">++</span><span class="s_0"> }></span></span>
<span class="line"><span class="s_0">  Current count: </span><span class="s_7">${</span><span class="s_2">count</span><span class="s_7">}</span><span class="s_0"> And the double is </span><span class="s_7">${</span><span class="s_2">doubleCount</span><span class="s_7">}</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">button</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">count=</span><span class="s_8">1</span></span>
<span class="line"><span class="s_7">const</span><span class="s_0">/</span><span class="s_2">doubleCount=count</span><span class="s_1"> *</span><span class="s_8"> 2</span></span>
<span class="line"></span>
<span class="line"><span class="s_1">button</span><span class="s_b"> onClick</span><span class="s_0">() { </span><span class="s_2">count</span><span class="s_1">++</span><span class="s_0"> }</span></span>
<span class="line"><span class="s_0">  -- Current count: </span><span class="s_7">${</span><span class="s_2">count</span><span class="s_7">}</span><span class="s_0"> And the double is </span><span class="s_7">${</span><span class="s_2">doubleCount</span><span class="s_7">}</span></span></code></pre></div></div><callout role=note aria-labelledby=callout-cot-1 class=admonition-note><cot id=callout-cot-1>Note</cot><p>The <code>&lt;const></code> tag is locally scoped and will be initialized for every instance of a component. If your goal is to expose a program wide constant, you should use <a href=./language#static><code>static const</code></a> instead.</p></callout><callout role=note aria-labelledby=callout-cot-2 class=admonition-tip><cot id=callout-cot-2>Tip</cot><p>The implementation of the <a href=#const><code>&lt;const></code></a> tag is conceptually identical to <a href=#return><code>&lt;return></code></a>ing its <code>input.value</code>. 🤯</p><div class=code-block><div class=filename>const.marko</div><div class=html><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_1">return</span><span class="s_2">=input</span><span class="s_0">.</span><span class="s_2">value</span><span class="s_0">></span></span></code></pre></div><div class=html-ts><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">export</span><span class="s_a"> interface</span><span class="s_0"> Input&#x3C;T> {</span></span>
<span class="line"><span class="s_2">  value</span><span class="s_1">:</span><span class="s_0"> T;</span></span>
<span class="line"><span class="s_0">}</span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">return</span><span class="s_2">=input</span><span class="s_0">.</span><span class="s_2">value</span><span class="s_0">></span></span></code></pre></div><div class=concise><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">return</span><span class="s_2">=input</span><span class="s_0">.</span><span class="s_2">value</span></span></code></pre></div><div class=concise-ts><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">export</span><span class="s_a"> interface</span><span class="s_0"> Input&#x3C;T> {</span></span>
<span class="line"><span class="s_2">  value</span><span class="s_1">:</span><span class="s_0"> T;</span></span>
<span class="line"><span class="s_0">}</span></span>
<span class="line"></span>
<span class="line"><span class="s_1">return</span><span class="s_2">=input</span><span class="s_0">.</span><span class="s_2">value</span></span></code></pre></div></div></callout></section><section id=return><h2><a href=#return><code>&lt;return></code></a></h2><p>The <code>&lt;return></code> tag allows any <a href=./custom-tag>custom tag</a> to expose a <a href=./language#tag-variables>Tag Variable</a>.</p><p>The <code>value=</code> attribute (usually expressed via the <a href=./language#shorthand-value>shorthand</a>) is made available as the tag variable of the template.</p><div class=code-block><div class=filename>answer.marko</div><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_1">return</span><span class="s_2">=</span><span class="s_8">42</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">return</span><span class="s_2">=</span><span class="s_8">42</span></span></code></pre></div></div><p>The return value may then be used in the parent template:</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_1">answer</span><span class="s_0">/</span><span class="s_2">value</span><span class="s_0">/></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">div</span><span class="s_0">></span><span class="s_7">${</span><span class="s_2">value</span><span class="s_7">}</span><span class="s_0">&#x3C;/</span><span class="s_1">div</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">answer</span><span class="s_0">/</span><span class="s_2">value</span></span>
<span class="line"></span>
<span class="line"><span class="s_1">div</span><span class="s_0"> -- </span><span class="s_7">${</span><span class="s_2">value</span><span class="s_7">}</span></span></code></pre></div></div><section id=assignable-return-value><h3><a href=#assignable-return-value>Assignable Return Value</a></h3><p>By default, an exposed variable can not be assigned a value. Value assignment may be enabled with the <code>valueChange=</code> attribute on the <code>&lt;return></code>.</p><p>If a <code>valueChange=</code> attribute is provided, it is called whenever the tag variable is assigned a value.</p><div class=code-block><div class=filename>uppercase.marko</div><div class=html><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">value=input</span><span class="s_0">.</span><span class="s_2">value</span><span class="s_0">.</span><span class="s_c">toUpperCase</span><span class="s_0">()></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">return</span><span class="s_2">=value</span><span class="s_b"> valueChange</span><span class="s_0">(</span><span class="s_2">newValue</span><span class="s_0">) {</span></span>
<span class="line"><span class="s_2">  value</span><span class="s_2"> =</span><span class="s_2"> newValue</span><span class="s_0">.</span><span class="s_c">toUpperCase</span><span class="s_0">();</span></span>
<span class="line"><span class="s_0">}></span></span></code></pre></div><div class=html-ts><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">export</span><span class="s_a"> interface</span><span class="s_0"> Input {</span></span>
<span class="line"><span class="s_2">  value</span><span class="s_1">:</span><span class="s_b"> string</span><span class="s_0">;</span></span>
<span class="line"><span class="s_0">}</span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">value=input</span><span class="s_0">.</span><span class="s_2">value</span><span class="s_0">.</span><span class="s_c">toUpperCase</span><span class="s_0">()></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">return</span><span class="s_2">=value</span><span class="s_b"> valueChange</span><span class="s_0">(</span><span class="s_2">newValue</span><span class="s_0">) {</span></span>
<span class="line"><span class="s_2">  value</span><span class="s_2"> =</span><span class="s_2"> newValue</span><span class="s_0">.</span><span class="s_c">toUpperCase</span><span class="s_0">();</span></span>
<span class="line"><span class="s_0">}></span></span></code></pre></div><div class=concise><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">value=input</span><span class="s_0">.</span><span class="s_2">value</span><span class="s_0">.</span><span class="s_c">toUpperCase</span><span class="s_0">()</span></span>
<span class="line"></span>
<span class="line"><span class="s_1">return</span><span class="s_2">=value</span><span class="s_b"> valueChange</span><span class="s_0">(</span><span class="s_2">newValue</span><span class="s_0">) {</span></span>
<span class="line"><span class="s_2">  value</span><span class="s_2"> =</span><span class="s_2"> newValue</span><span class="s_0">.</span><span class="s_c">toUpperCase</span><span class="s_0">();</span></span>
<span class="line"><span class="s_0">}</span></span></code></pre></div><div class=concise-ts><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">export</span><span class="s_a"> interface</span><span class="s_0"> Input {</span></span>
<span class="line"><span class="s_2">  value</span><span class="s_1">:</span><span class="s_b"> string</span><span class="s_0">;</span></span>
<span class="line"><span class="s_0">}</span></span>
<span class="line"></span>
<span class="line"><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">value=input</span><span class="s_0">.</span><span class="s_2">value</span><span class="s_0">.</span><span class="s_c">toUpperCase</span><span class="s_0">()</span></span>
<span class="line"></span>
<span class="line"><span class="s_1">return</span><span class="s_2">=value</span><span class="s_b"> valueChange</span><span class="s_0">(</span><span class="s_2">newValue</span><span class="s_0">) {</span></span>
<span class="line"><span class="s_2">  value</span><span class="s_2"> =</span><span class="s_2"> newValue</span><span class="s_0">.</span><span class="s_c">toUpperCase</span><span class="s_0">();</span></span>
<span class="line"><span class="s_0">}</span></span></code></pre></div></div><p>In the above example, the exposed tag variable is initialized to an UPPERCASE version of <code>input.value</code> and when new values are assigned it will first UPPERCASE the value before storing it in state.</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_1">uppercase</span><span class="s_0">/</span><span class="s_2">value=</span><span class="s_6">""</span><span class="s_0">/></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">input</span><span class="s_b"> onInput</span><span class="s_0">(</span><span class="s_2">e</span><span class="s_0">) { </span><span class="s_2">value</span><span class="s_2"> =</span><span class="s_2"> e</span><span class="s_0">.</span><span class="s_2">target</span><span class="s_0">.</span><span class="s_2">value</span><span class="s_0"> }></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">div</span><span class="s_0">></span><span class="s_7">${</span><span class="s_2">value</span><span class="s_7">}</span><span class="s_0">&#x3C;/</span><span class="s_1">div</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">-- </span><span class="s_7">${</span><span class="s_6">" "</span><span class="s_7">}</span></span>
<span class="line"><span class="s_9">// value is always uppercased</span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">uppercase</span><span class="s_0">/</span><span class="s_2">value=</span><span class="s_6">""</span></span>
<span class="line"><span class="s_1">input</span><span class="s_b"> onInput</span><span class="s_0">(</span><span class="s_2">e</span><span class="s_0">) { </span><span class="s_2">value</span><span class="s_2"> =</span><span class="s_2"> e</span><span class="s_0">.</span><span class="s_2">target</span><span class="s_0">.</span><span class="s_2">value</span><span class="s_0"> }</span></span>
<span class="line"><span class="s_1">div</span><span class="s_0"> -- </span><span class="s_7">${</span><span class="s_2">value</span><span class="s_7">}</span></span>
<span class="line"><span class="s_0">-- </span><span class="s_7">${</span><span class="s_6">" "</span><span class="s_7">}</span></span>
<span class="line"><span class="s_9">// value is always uppercased</span></span></code></pre></div></div></section></section><section id=script><h2><a href=#script><code>&lt;script></code></a></h2><p>The <code>&lt;script></code> tag has special behavior in Marko.</p><p>The content of a <code>&lt;script></code> tag is executed first when the template has finished rendering and is mounted in the browser. It will also be executed <em>again</em> after any <a href=./language#tag-variables>Tag Variable</a> or <a href=./language#tag-parameters>Tag Parameter</a> it references has changed.</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">count=</span><span class="s_8">1</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">button</span><span class="s_0">/</span><span class="s_2">myButton</span><span class="s_b"> onClick</span><span class="s_0">() { </span><span class="s_2">count</span><span class="s_1">++</span><span class="s_0"> }></span></span>
<span class="line"><span class="s_0">  Current count: </span><span class="s_7">${</span><span class="s_2">count</span><span class="s_7">}</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">button</span><span class="s_0">></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_b">script</span><span class="s_0">></span></span>
<span class="line"><span class="s_9">  // Runs in the browser for each instance of this tag.</span></span>
<span class="line"><span class="s_9">  // Also runs when either `myButton` or `count` updates</span></span>
<span class="line"><span class="s_2">  console</span><span class="s_0">.</span><span class="s_c">log</span><span class="s_0">(</span><span class="s_6">"clicked"</span><span class="s_0">, </span><span class="s_c">myButton</span><span class="s_0">(), </span><span class="s_2">count</span><span class="s_0">, </span><span class="s_6">"times"</span><span class="s_0">);</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_b">script</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">count=</span><span class="s_8">1</span></span>
<span class="line"><span class="s_1">button</span><span class="s_0">/</span><span class="s_2">myButton</span><span class="s_b"> onClick</span><span class="s_0">() { </span><span class="s_2">count</span><span class="s_1">++</span><span class="s_0"> } -- Current count: </span><span class="s_7">${</span><span class="s_2">count</span><span class="s_7">}</span></span>
<span class="line"></span>
<span class="line"><span class="s_b">script</span><span class="s_0"> --</span></span>
<span class="line"><span class="s_9">  // Runs in the browser for each instance of this tag.</span></span>
<span class="line"><span class="s_9">  // Also runs when either `myButton` or `count` updates</span></span>
<span class="line"><span class="s_3">  console</span><span class="s_d">.</span><span class="s_3">log</span><span class="s_0">(</span><span class="s_6">"clicked"</span><span class="s_0">, </span><span class="s_c">myButton</span><span class="s_0">(), </span><span class="s_2">count</span><span class="s_0">, </span><span class="s_6">"times"</span><span class="s_0">);</span></span></code></pre></div></div><style>.s_d{--shiki-light:#202124;--shiki-dark:#F8F8F0}</style><p>Often the <code>&lt;script></code> tag is coupled with the <a href=./language#signal><code>$signal</code> api</a> to apply some side effect, and cleanup afterward.</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_b">script</span><span class="s_0">></span></span>
<span class="line"><span class="s_a">  const</span><span class="s_2"> intervalId</span><span class="s_2"> =</span><span class="s_c"> setInterval</span><span class="s_0">(() </span><span class="s_a">=></span><span class="s_0"> {</span></span>
<span class="line"><span class="s_2">    console</span><span class="s_0">.</span><span class="s_c">log</span><span class="s_0">(</span><span class="s_6">"time"</span><span class="s_0">, </span><span class="s_2">Date</span><span class="s_0">.</span><span class="s_c">now</span><span class="s_0">());</span></span>
<span class="line"><span class="s_0">  }, </span><span class="s_8">1000</span><span class="s_0">);</span></span>
<span class="line"><span class="s_2">  $signal</span><span class="s_0">.</span><span class="s_c">onabort</span><span class="s_2"> =</span><span class="s_0"> () </span><span class="s_a">=></span><span class="s_c"> clearInterval</span><span class="s_0">(</span><span class="s_2">intervalId</span><span class="s_0">);</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_b">script</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_b">script</span><span class="s_0"> --</span></span>
<span class="line"><span class="s_3">  const</span><span class="s_3"> intervalId</span><span class="s_2"> =</span><span class="s_c"> setInterval</span><span class="s_0">(() </span><span class="s_a">=></span><span class="s_0"> {</span></span>
<span class="line"><span class="s_2">    console</span><span class="s_0">.</span><span class="s_c">log</span><span class="s_0">(</span><span class="s_6">"time"</span><span class="s_0">, </span><span class="s_2">Date</span><span class="s_0">.</span><span class="s_c">now</span><span class="s_0">());</span></span>
<span class="line"><span class="s_0">  }, </span><span class="s_8">1000</span><span class="s_0">);</span></span>
<span class="line"><span class="s_3">  $signal</span><span class="s_d">.</span><span class="s_b">onabort</span><span class="s_2"> =</span><span class="s_0"> () </span><span class="s_a">=></span><span class="s_c"> clearInterval</span><span class="s_0">(</span><span class="s_2">intervalId</span><span class="s_0">);</span></span></code></pre></div></div><callout role=note aria-labelledby=callout-cot-3 class=admonition-tip><cot id=callout-cot-3>Tip</cot><p>There are very few cases where you should be using a <em>real</em> <code>&lt;script></code> tag, but if you absolutely need it you can use the <a href=#html-script--html-style><code>&lt;html-script></code></a> fallback.</p></callout></section><section id=style><h2><a href=#style><code>&lt;style></code></a></h2><p>The <code>&lt;style></code> tag has special behavior in Marko. No matter how many times a component renders, its styles are only loaded once.</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_b">style</span><span class="s_0">></span></span>
<span class="line"><span class="s_9">  /* Bundled and loaded once */</span></span>
<span class="line"><span class="s_1">  body</span><span class="s_0"> {</span></span>
<span class="line"><span class="s_b">    color</span><span class="s_0">: </span><span class="s_7">green</span><span class="s_0">;</span></span>
<span class="line"><span class="s_0">  }</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_b">style</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_b">style</span><span class="s_0"> --</span></span>
<span class="line"><span class="s_9">  /* Bundled and loaded once */</span></span>
<span class="line"><span class="s_3">  body</span><span class="s_d"> {</span></span>
<span class="line"><span class="s_3">    color</span><span class="s_d">:</span><span class="s_3"> green</span><span class="s_0">;</span></span>
<span class="line"><span class="s_d">  }</span></span></code></pre></div></div><p>The <code>&lt;style></code> may include a file extension to enable css preprocessors such as <a href=https://sass-lang.com/documentation/syntax/#scss>scss</a> and <a href="https://lesscss.org/">less</a>.</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_b">style</span><span class="s_a">.scss</span><span class="s_0">></span></span>
<span class="line"><span class="s_2">  $primary-color</span><span class="s_0">: </span><span class="s_7">green</span><span class="s_0">;</span></span>
<span class="line"></span>
<span class="line"><span class="s_3">  .fancy-scss</span><span class="s_0"> {</span></span>
<span class="line"><span class="s_b">    color</span><span class="s_0">: </span><span class="s_2">$primary-color</span><span class="s_0">;</span></span>
<span class="line"><span class="s_0">  }</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_b">style</span><span class="s_0">></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">div</span><span class="s_3"> class</span><span class="s_2">=</span><span class="s_6">"fancy-scss"</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  Hello!</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">div</span><span class="s_0">></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_b">style</span><span class="s_a">.less</span><span class="s_0">></span></span>
<span class="line"><span class="s_2">  @primary-color</span><span class="s_0">: </span><span class="s_7">blue</span><span class="s_0">;</span></span>
<span class="line"></span>
<span class="line"><span class="s_3">  .fancy-less</span><span class="s_0"> {</span></span>
<span class="line"><span class="s_b">    color</span><span class="s_0">: </span><span class="s_2">@primary-color</span><span class="s_0">;</span></span>
<span class="line"><span class="s_0">  }</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_b">style</span><span class="s_0">></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">div</span><span class="s_3"> class</span><span class="s_2">=</span><span class="s_6">"fancy-less"</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  Hello!</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">div</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_b">style</span><span class="s_a">.scss</span><span class="s_0"> --</span></span>
<span class="line"><span class="s_3">  $primary-color</span><span class="s_d">:</span><span class="s_3"> green</span><span class="s_0">;</span></span>
<span class="line"></span>
<span class="line"><span class="s_d">  .</span><span class="s_3">fancy-scss</span><span class="s_d"> {</span></span>
<span class="line"><span class="s_3">    color</span><span class="s_d">:</span><span class="s_3"> $primary-color</span><span class="s_0">;</span></span>
<span class="line"><span class="s_d">  }</span></span>
<span class="line"></span>
<span class="line"><span class="s_1">div</span><span class="s_3">.fancy-scss</span><span class="s_0"> -- Hello!</span></span>
<span class="line"></span>
<span class="line"><span class="s_b">style</span><span class="s_a">.less</span><span class="s_0"> --</span></span>
<span class="line"><span class="s_d">  @</span><span class="s_3">primary-color</span><span class="s_d">:</span><span class="s_3"> blue</span><span class="s_0">;</span></span>
<span class="line"></span>
<span class="line"><span class="s_d">  .</span><span class="s_3">fancy-less</span><span class="s_d"> {</span></span>
<span class="line"><span class="s_3">    color</span><span class="s_d">:</span><span class="s_d"> @</span><span class="s_3">primary-color</span><span class="s_0">;</span></span>
<span class="line"><span class="s_d">  }</span></span>
<span class="line"></span>
<span class="line"><span class="s_1">div</span><span class="s_3">.fancy-less</span><span class="s_0"> -- Hello!</span></span></code></pre></div></div><p>If the <code>&lt;style></code> tag has a <a href=./language#tag-variables>Tag Variable</a>, it leverages <a href=https://github.com/css-modules/css-modules>CSS Modules</a> to expose its classes as an object.</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_b">style</span><span class="s_0">/</span><span class="s_2">styles</span><span class="s_0">></span></span>
<span class="line"><span class="s_3">  .foo</span><span class="s_0"> { </span><span class="s_b">border</span><span class="s_0">: </span><span class="s_8">1</span><span class="s_1">px</span><span class="s_7"> solid</span><span class="s_7"> red</span><span class="s_0"> }</span></span>
<span class="line"><span class="s_3">  .bar</span><span class="s_0"> { </span><span class="s_b">color</span><span class="s_0">: </span><span class="s_7">green</span><span class="s_0"> }</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_b">style</span><span class="s_0">></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">div</span><span class="s_3"> class</span><span class="s_2">=styles</span><span class="s_0">.</span><span class="s_2">foo</span><span class="s_0">/></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">div</span><span class="s_3"> class</span><span class="s_2">=</span><span class="s_0">[</span><span class="s_2">styles</span><span class="s_0">.</span><span class="s_2">foo</span><span class="s_0">, </span><span class="s_2">styles</span><span class="s_0">.</span><span class="s_2">bar</span><span class="s_0">]/></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">div</span><span class="s_3"> class</span><span class="s_2">=</span><span class="s_0">{</span></span>
<span class="line"><span class="s_0">  [</span><span class="s_2">styles</span><span class="s_0">.</span><span class="s_2">bar</span><span class="s_0">]: </span><span class="s_8">true</span></span>
<span class="line"><span class="s_0">}/></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">div</span><span class="s_3"> class</span><span class="s_2">=styles</span><span class="s_0">.</span><span class="s_2">foo</span><span class="s_0">/></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_b">style</span><span class="s_0">/</span><span class="s_2">styles</span><span class="s_0"> --</span></span>
<span class="line"><span class="s_d">  .</span><span class="s_3">foo</span><span class="s_d"> {</span><span class="s_3"> border</span><span class="s_d">:</span><span class="s_3"> 1px</span><span class="s_3"> solid</span><span class="s_3"> red</span><span class="s_d"> }</span></span>
<span class="line"><span class="s_d">  .</span><span class="s_3">bar</span><span class="s_d"> {</span><span class="s_3"> color</span><span class="s_d">:</span><span class="s_3"> green</span><span class="s_d"> }</span></span>
<span class="line"></span>
<span class="line"><span class="s_1">div</span><span class="s_3"> class</span><span class="s_2">=styles</span><span class="s_0">.</span><span class="s_2">foo</span></span>
<span class="line"><span class="s_1">div</span><span class="s_3"> class</span><span class="s_2">=</span><span class="s_0">[</span><span class="s_2">styles</span><span class="s_0">.</span><span class="s_2">foo</span><span class="s_0">, </span><span class="s_2">styles</span><span class="s_0">.</span><span class="s_2">bar</span><span class="s_0">]</span></span>
<span class="line"><span class="s_1">div</span><span class="s_3"> class</span><span class="s_2">=</span><span class="s_0">{</span></span>
<span class="line"><span class="s_0">  [</span><span class="s_2">styles</span><span class="s_0">.</span><span class="s_2">bar</span><span class="s_0">]: </span><span class="s_8">true</span></span>
<span class="line"><span class="s_0">}</span></span>
<span class="line"><span class="s_1">div</span><span class="s_3"> class</span><span class="s_2">=styles</span><span class="s_0">.</span><span class="s_2">foo</span></span></code></pre></div></div><callout role=note aria-labelledby=callout-cot-4 class=admonition-tip><cot id=callout-cot-4>Tip</cot><p>There are very few cases where you should be using a <em>real</em> inline <code>&lt;style></code> tag but if needed you can use the fallback <a href=#html-script--html-style><code>&lt;html-style></code></a> tag.</p></callout></section><section id=define><h2><a href=#define><code>&lt;define></code></a></h2><p>The <code>&lt;define></code> tag is primarily used to create reusable snippets of markup that can be shared across the template.</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_7">define</span><span class="s_0">/</span><span class="s_2">MyTag</span><span class="s_0">|</span><span class="s_5">input</span><span class="s_1">:</span><span class="s_0"> { </span><span class="s_2">name</span><span class="s_1">:</span><span class="s_b"> string</span><span class="s_0"> }| </span><span class="s_3">foo</span><span class="s_2">=</span><span class="s_8">1</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  &#x3C;</span><span class="s_1">span</span><span class="s_0">>Hello </span><span class="s_7">${</span><span class="s_2">input</span><span class="s_0">.</span><span class="s_2">name</span><span class="s_7">}</span><span class="s_0">&#x3C;/</span><span class="s_1">span</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_7">define</span><span class="s_0">></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">MyTag</span><span class="s_3"> name</span><span class="s_2">=</span><span class="s_6">"HTML"</span><span class="s_0">/></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">MyTag</span><span class="s_3"> name</span><span class="s_2">=</span><span class="s_6">"Marko"</span><span class="s_0">/></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">div</span><span class="s_0">></span><span class="s_7">${</span><span class="s_2">MyTag</span><span class="s_0">.</span><span class="s_2">foo</span><span class="s_7">}</span><span class="s_0">&#x3C;/</span><span class="s_1">div</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_7">define</span><span class="s_0">/</span><span class="s_2">MyTag</span><span class="s_0">|</span><span class="s_5">input</span><span class="s_1">:</span><span class="s_0"> { </span><span class="s_2">name</span><span class="s_1">:</span><span class="s_b"> string</span><span class="s_0"> }| </span><span class="s_3">foo</span><span class="s_2">=</span><span class="s_8">1</span></span>
<span class="line"><span class="s_1">  span</span><span class="s_0"> -- Hello </span><span class="s_7">${</span><span class="s_2">input</span><span class="s_0">.</span><span class="s_2">name</span><span class="s_7">}</span></span>
<span class="line"></span>
<span class="line"><span class="s_1">MyTag</span><span class="s_3"> name</span><span class="s_2">=</span><span class="s_6">"HTML"</span></span>
<span class="line"><span class="s_1">MyTag</span><span class="s_3"> name</span><span class="s_2">=</span><span class="s_6">"Marko"</span></span>
<span class="line"></span>
<span class="line"><span class="s_1">div</span><span class="s_0"> -- </span><span class="s_7">${</span><span class="s_2">MyTag</span><span class="s_0">.</span><span class="s_2">foo</span><span class="s_7">}</span></span></code></pre></div></div><p>The <a href=./language#tag-variables>Tag Variable</a> reflects the attributes the <code>&lt;define></code> tag was provided (including the <a href=./language#tag-content>content</a>).</p><callout role=note aria-labelledby=callout-cot-5 class=admonition-tip><cot id=callout-cot-5>Tip</cot><p>The implementation of the <code>&lt;define></code> tag above is conceptually identical to <a href=#return><code>&lt;return></code></a>ing its <code>input</code>. 🤯</p><div class=code-block><div class=filename>define.marko</div><div class=html><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_1">return</span><span class="s_2">=input</span><span class="s_0">></span></span></code></pre></div><div class=html-ts><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">export</span><span class="s_a"> type</span><span class="s_0"> Input&#x3C;T> </span><span class="s_2">=</span><span class="s_0"> T</span></span>
<span class="line"><span class="s_0">&#x3C;return</span><span class="s_2">=</span><span class="s_0">input></span></span></code></pre></div><div class=concise><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">return</span><span class="s_2">=input</span></span></code></pre></div><div class=concise-ts><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">export</span><span class="s_a"> type</span><span class="s_0"> Input&#x3C;T> </span><span class="s_2">=</span><span class="s_0"> T</span></span>
<span class="line"><span class="s_1">return</span><span class="s_2">=input</span></span></code></pre></div></div></callout></section><section id=lifecycle><h2><a href=#lifecycle><code>&lt;lifecycle></code></a></h2><p>The <code>&lt;lifecycle></code> tag is used to synchronize side-effects from imperative client APIs.</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_7">lifecycle</span></span>
<span class="line"><span class="s_b">  onMount</span><span class="s_0">() {</span></span>
<span class="line"><span class="s_9">    // Called once this tag is attached to the dom, and never again.</span></span>
<span class="line"><span class="s_0">  }</span></span>
<span class="line"><span class="s_b">  onUpdate</span><span class="s_0">() {</span></span>
<span class="line"><span class="s_9">    // Called every time the dependencies of the `onUpdate` function are invalidated.</span></span>
<span class="line"><span class="s_0">  }</span></span>
<span class="line"><span class="s_b">  onDestroy</span><span class="s_0">() {</span></span>
<span class="line"><span class="s_9">    // Called once this tag is removed from the dom.</span></span>
<span class="line"><span class="s_0">  }></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_7">lifecycle</span></span>
<span class="line"><span class="s_0">  ,</span><span class="s_b">onMount</span><span class="s_0">() {</span></span>
<span class="line"><span class="s_9">    // Called once this tag is attached to the dom, and never again.</span></span>
<span class="line"><span class="s_0">  }</span></span>
<span class="line"><span class="s_0">  ,</span><span class="s_b">onUpdate</span><span class="s_0">() {</span></span>
<span class="line"><span class="s_9">    // Called every time the dependencies of the `onUpdate` function are invalidated.</span></span>
<span class="line"><span class="s_0">  }</span></span>
<span class="line"><span class="s_0">  ,</span><span class="s_b">onDestroy</span><span class="s_0">() {</span></span>
<span class="line"><span class="s_9">    // Called once this tag is removed from the dom.</span></span>
<span class="line"><span class="s_0">  }</span></span></code></pre></div></div><p>The <code>this</code> is consistent across the lifetime of the <code>&lt;lifecycle></code> tag and can be mutated.</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">client</span><span class="s_1"> import</span><span class="s_0"> { </span><span class="s_2">WorldMap</span><span class="s_0"> } </span><span class="s_1">from</span><span class="s_6"> "world-map-api"</span><span class="s_0">;</span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">latitude=</span><span class="s_8">0</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">longitude=</span><span class="s_8">0</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">div</span><span class="s_0">/</span><span class="s_2">container</span><span class="s_0">/></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_7">lifecycle</span><span class="s_0">&#x3C;{ </span><span class="s_2">map</span><span class="s_1">:</span><span class="s_0"> WorldMap }></span></span>
<span class="line"><span class="s_b">  onMount</span><span class="s_0">() {</span></span>
<span class="line"><span class="s_2">    this</span><span class="s_0">.</span><span class="s_2">map</span><span class="s_2"> =</span><span class="s_1"> new</span><span class="s_c"> WorldMap</span><span class="s_0">(</span><span class="s_c">container</span><span class="s_0">(), { </span><span class="s_2">latitude</span><span class="s_0">, </span><span class="s_2">longitude</span><span class="s_0">, </span><span class="s_2">zoom</span><span class="s_0"> });</span></span>
<span class="line"><span class="s_0">  }</span></span>
<span class="line"><span class="s_b">  onUpdate</span><span class="s_0">() {</span></span>
<span class="line"><span class="s_2">    this</span><span class="s_0">.</span><span class="s_2">map</span><span class="s_0">.</span><span class="s_c">setCoords</span><span class="s_0">(</span><span class="s_2">latitude</span><span class="s_0">, </span><span class="s_2">longitude</span><span class="s_0">);</span></span>
<span class="line"><span class="s_2">    this</span><span class="s_0">.</span><span class="s_2">map</span><span class="s_0">.</span><span class="s_c">setZoom</span><span class="s_0">(</span><span class="s_2">zoom</span><span class="s_0">);</span></span>
<span class="line"><span class="s_0">  }</span></span>
<span class="line"><span class="s_b">  onDestroy</span><span class="s_0">() {</span></span>
<span class="line"><span class="s_2">    this</span><span class="s_0">.</span><span class="s_2">map</span><span class="s_0">.</span><span class="s_c">destroy</span><span class="s_0">();</span></span>
<span class="line"><span class="s_0">  }></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">client</span><span class="s_1"> import</span><span class="s_0"> { </span><span class="s_2">WorldMap</span><span class="s_0"> } </span><span class="s_1">from</span><span class="s_6"> "world-map-api"</span><span class="s_0">;</span></span>
<span class="line"></span>
<span class="line"><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">latitude=</span><span class="s_8">0</span></span>
<span class="line"><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">longitude=</span><span class="s_8">0</span></span>
<span class="line"><span class="s_1">div</span><span class="s_0">/</span><span class="s_2">container</span></span>
<span class="line"><span class="s_7">lifecycle</span><span class="s_0">&#x3C;{ </span><span class="s_2">map</span><span class="s_1">:</span><span class="s_0"> WorldMap }></span></span>
<span class="line"><span class="s_0">  ,</span><span class="s_b">onMount</span><span class="s_0">() {</span></span>
<span class="line"><span class="s_2">    this</span><span class="s_0">.</span><span class="s_2">map</span><span class="s_2"> =</span><span class="s_1"> new</span><span class="s_c"> WorldMap</span><span class="s_0">(</span><span class="s_c">container</span><span class="s_0">(), { </span><span class="s_2">latitude</span><span class="s_0">, </span><span class="s_2">longitude</span><span class="s_0">, </span><span class="s_2">zoom</span><span class="s_0"> });</span></span>
<span class="line"><span class="s_0">  }</span></span>
<span class="line"><span class="s_0">  ,</span><span class="s_b">onUpdate</span><span class="s_0">() {</span></span>
<span class="line"><span class="s_2">    this</span><span class="s_0">.</span><span class="s_2">map</span><span class="s_0">.</span><span class="s_c">setCoords</span><span class="s_0">(</span><span class="s_2">latitude</span><span class="s_0">, </span><span class="s_2">longitude</span><span class="s_0">);</span></span>
<span class="line"><span class="s_2">    this</span><span class="s_0">.</span><span class="s_2">map</span><span class="s_0">.</span><span class="s_c">setZoom</span><span class="s_0">(</span><span class="s_2">zoom</span><span class="s_0">);</span></span>
<span class="line"><span class="s_0">  }</span></span>
<span class="line"><span class="s_0">  ,</span><span class="s_b">onDestroy</span><span class="s_0">() {</span></span>
<span class="line"><span class="s_2">    this</span><span class="s_0">.</span><span class="s_2">map</span><span class="s_0">.</span><span class="s_c">destroy</span><span class="s_0">();</span></span>
<span class="line"><span class="s_0">  }</span></span></code></pre></div></div><callout role=note aria-labelledby=callout-cot-6 class=admonition-tip><cot id=callout-cot-6>Tip</cot><p>All attributes on the <code>&lt;lifecycle></code> tag attributes available as the <code>this</code> in any of the event handler attributes.</p></callout></section><section id=id><h2><a href=#id><code>&lt;id></code></a></h2><p>The <code>&lt;id></code> tag exposes a <a href=./language#tag-variables>Tag Variable</a> with a short unique id string (compatible with <a href=https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id><code>id=</code> and aria attributes</a>).</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_7">id</span><span class="s_0">/</span><span class="s_2">cheeseId</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">label</span><span class="s_3"> for</span><span class="s_2">=cheeseId</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  Do you like cheese?</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">label</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">input</span><span class="s_3"> id</span><span class="s_2">=cheeseId</span><span class="s_3"> type</span><span class="s_2">=</span><span class="s_6">"checkbox"</span><span class="s_3"> name</span><span class="s_2">=</span><span class="s_6">"cheese"</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_7">id</span><span class="s_0">/</span><span class="s_2">cheeseId</span></span>
<span class="line"><span class="s_1">label</span><span class="s_3"> for</span><span class="s_2">=cheeseId</span><span class="s_0"> -- Do you like cheese?</span></span>
<span class="line"><span class="s_1">input</span><span class="s_3"> id</span><span class="s_2">=cheeseId</span><span class="s_3"> type</span><span class="s_2">=</span><span class="s_6">"checkbox"</span><span class="s_3"> name</span><span class="s_2">=</span><span class="s_6">"cheese"</span></span></code></pre></div></div><p>If the <code>value=</code> attribute contains a non-nullable value, it will be used instead of the generated one.</p><div class=code-block><div class=filename>textbox.marko</div><div class=html><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_7">id</span><span class="s_0">/</span><span class="s_2">id=input</span><span class="s_0">.</span><span class="s_2">id</span><span class="s_0">></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">input</span><span class="s_3"> aria-describedby</span><span class="s_2">=id</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">span</span><span class="s_3"> id</span><span class="s_2">=id</span><span class="s_0">></span></span>
<span class="line"><span class="s_7">  ${</span><span class="s_2">description</span><span class="s_7">}</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">span</span><span class="s_0">></span></span></code></pre></div><div class=html-ts><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">export</span><span class="s_a"> interface</span><span class="s_0"> Input {</span></span>
<span class="line"><span class="s_2">  id</span><span class="s_1">?:</span><span class="s_b"> string</span><span class="s_0">;</span></span>
<span class="line"><span class="s_2">  description</span><span class="s_1">:</span><span class="s_b"> string</span><span class="s_0">;</span></span>
<span class="line"><span class="s_0">}</span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_7">id</span><span class="s_0">/</span><span class="s_2">id=input</span><span class="s_0">.</span><span class="s_2">id</span><span class="s_0">></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">input</span><span class="s_3"> aria-describedby</span><span class="s_2">=id</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">span</span><span class="s_3"> id</span><span class="s_2">=id</span><span class="s_0">></span></span>
<span class="line"><span class="s_7">  ${</span><span class="s_2">description</span><span class="s_7">}</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">span</span><span class="s_0">></span></span></code></pre></div><div class=concise><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_7">id</span><span class="s_0">/</span><span class="s_2">id=input</span><span class="s_0">.</span><span class="s_2">id</span></span>
<span class="line"></span>
<span class="line"><span class="s_1">input</span><span class="s_3"> aria-describedby</span><span class="s_2">=id</span></span>
<span class="line"><span class="s_1">span</span><span class="s_3"> id</span><span class="s_2">=id</span><span class="s_0"> -- </span><span class="s_7">${</span><span class="s_2">description</span><span class="s_7">}</span></span></code></pre></div><div class=concise-ts><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">export</span><span class="s_a"> interface</span><span class="s_0"> Input {</span></span>
<span class="line"><span class="s_2">  id</span><span class="s_1">?:</span><span class="s_b"> string</span><span class="s_0">;</span></span>
<span class="line"><span class="s_2">  description</span><span class="s_1">:</span><span class="s_b"> string</span><span class="s_0">;</span></span>
<span class="line"><span class="s_0">}</span></span>
<span class="line"></span>
<span class="line"><span class="s_7">id</span><span class="s_0">/</span><span class="s_2">id=input</span><span class="s_0">.</span><span class="s_2">id</span></span>
<span class="line"></span>
<span class="line"><span class="s_1">input</span><span class="s_3"> aria-describedby</span><span class="s_2">=id</span></span>
<span class="line"><span class="s_1">span</span><span class="s_3"> id</span><span class="s_2">=id</span><span class="s_0"> -- </span><span class="s_7">${</span><span class="s_2">description</span><span class="s_7">}</span></span></code></pre></div></div></section><section id=log><h2><a href=#log><code>&lt;log></code></a></h2><p>The <code>&lt;log></code> tag performs a <a href=https://developer.mozilla.org/en-US/docs/Web/API/console/log_static>console.log</a> of its <code>value=</code> attribute (shown here using <a href=./language#shorthand-value>the shorthand</a>).</p><p>The log is re-executed each time its tag variable updates.</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">count=</span><span class="s_8">0</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_7">log</span><span class="s_2">=</span><span class="s_6">`Current count: </span><span class="s_7">${</span><span class="s_2">count</span><span class="s_7">}</span><span class="s_6">`</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">button</span><span class="s_b"> onClick</span><span class="s_0">() { </span><span class="s_2">count</span><span class="s_1">++</span><span class="s_0"> }></span></span>
<span class="line"><span class="s_0">  Log</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">button</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_7">let</span><span class="s_0">/</span><span class="s_2">count=</span><span class="s_8">0</span></span>
<span class="line"><span class="s_7">log</span><span class="s_2">=</span><span class="s_6">`Current count: </span><span class="s_7">${</span><span class="s_2">count</span><span class="s_7">}</span><span class="s_6">`</span></span>
<span class="line"><span class="s_1">button</span><span class="s_b"> onClick</span><span class="s_0">() { </span><span class="s_2">count</span><span class="s_1">++</span><span class="s_0"> } -- Log</span></span></code></pre></div></div><p>This logs <code>Current count: 0</code> on both server and client and again whenever <code>count</code> changes.</p></section><section id=debug><h2><a href=#debug><code>&lt;debug></code></a></h2><p>The <code>&lt;debug></code> tag injects a <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/debugger><code>debugger</code> statement</a> within the template that will be executed once the tag renders.</p><div class=code-block><div class=html><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_7">const</span><span class="s_0">/{ </span><span class="s_2">stuff</span><span class="s_0"> }</span><span class="s_2">=input</span><span class="s_0">></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_7">debug</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">-- </span><span class="s_7">${</span><span class="s_6">" "</span><span class="s_7">}</span></span>
<span class="line"><span class="s_9">// Can be useful to inspect render-scoped variables with a debugger.</span></span></code></pre></div><div class=html-ts><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">export</span><span class="s_a"> interface</span><span class="s_0"> Input {</span></span>
<span class="line"><span class="s_2">  stuff</span><span class="s_1">:</span><span class="s_b"> any</span><span class="s_0">;</span></span>
<span class="line"><span class="s_0">}</span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_7">const</span><span class="s_0">/{ </span><span class="s_2">stuff</span><span class="s_0"> }</span><span class="s_2">=input</span><span class="s_0">></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_7">debug</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">-- </span><span class="s_7">${</span><span class="s_6">" "</span><span class="s_7">}</span></span>
<span class="line"><span class="s_9">// Can be useful to inspect render-scoped variables with a debugger.</span></span></code></pre></div><div class=concise><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_7">const</span><span class="s_0">/{ </span><span class="s_2">stuff</span><span class="s_0"> }</span><span class="s_2">=input</span></span>
<span class="line"></span>
<span class="line"><span class="s_7">debug</span></span>
<span class="line"><span class="s_0">-- </span><span class="s_7">${</span><span class="s_6">" "</span><span class="s_7">}</span></span>
<span class="line"><span class="s_9">// Can be useful to inspect render-scoped variables with a debugger.</span></span></code></pre></div><div class=concise-ts><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">export</span><span class="s_a"> interface</span><span class="s_0"> Input {</span></span>
<span class="line"><span class="s_2">  stuff</span><span class="s_1">:</span><span class="s_b"> any</span><span class="s_0">;</span></span>
<span class="line"><span class="s_0">}</span></span>
<span class="line"></span>
<span class="line"><span class="s_7">const</span><span class="s_0">/{ </span><span class="s_2">stuff</span><span class="s_0"> }</span><span class="s_2">=input</span></span>
<span class="line"></span>
<span class="line"><span class="s_7">debug</span></span>
<span class="line"><span class="s_0">-- </span><span class="s_7">${</span><span class="s_6">" "</span><span class="s_7">}</span></span>
<span class="line"><span class="s_9">// Can be useful to inspect render-scoped variables with a debugger.</span></span></code></pre></div></div><p>If a <code>value=</code> attribute is included, the debugger will be executed whenever it changes.</p><div class=code-block><div class=html><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_7">debug</span><span class="s_2">=</span><span class="s_0">[</span><span class="s_2">input</span><span class="s_0">.</span><span class="s_2">firstName</span><span class="s_0">, </span><span class="s_2">input</span><span class="s_0">.</span><span class="s_2">lastName</span><span class="s_0">]></span></span></code></pre></div><div class=html-ts><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">export</span><span class="s_a"> interface</span><span class="s_0"> Input {</span></span>
<span class="line"><span class="s_2">  firstName</span><span class="s_1">:</span><span class="s_b"> string</span><span class="s_0">;</span></span>
<span class="line"><span class="s_2">  lastName</span><span class="s_1">:</span><span class="s_b"> string</span><span class="s_0">;</span></span>
<span class="line"><span class="s_0">}</span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_7">debug</span><span class="s_2">=</span><span class="s_0">[</span><span class="s_2">input</span><span class="s_0">.</span><span class="s_2">firstName</span><span class="s_0">, </span><span class="s_2">input</span><span class="s_0">.</span><span class="s_2">lastName</span><span class="s_0">]></span></span></code></pre></div><div class=concise><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_7">debug</span><span class="s_2">=</span><span class="s_0">[</span><span class="s_2">input</span><span class="s_0">.</span><span class="s_2">firstName</span><span class="s_0">, </span><span class="s_2">input</span><span class="s_0">.</span><span class="s_2">lastName</span><span class="s_0">]</span></span></code></pre></div><div class=concise-ts><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">export</span><span class="s_a"> interface</span><span class="s_0"> Input {</span></span>
<span class="line"><span class="s_2">  firstName</span><span class="s_1">:</span><span class="s_b"> string</span><span class="s_0">;</span></span>
<span class="line"><span class="s_2">  lastName</span><span class="s_1">:</span><span class="s_b"> string</span><span class="s_0">;</span></span>
<span class="line"><span class="s_0">}</span></span>
<span class="line"></span>
<span class="line"><span class="s_7">debug</span><span class="s_2">=</span><span class="s_0">[</span><span class="s_2">input</span><span class="s_0">.</span><span class="s_2">firstName</span><span class="s_0">, </span><span class="s_2">input</span><span class="s_0">.</span><span class="s_2">lastName</span><span class="s_0">]</span></span></code></pre></div></div><p>This debugger executes on the initial render and whenever <code>input.firstName</code> or <code>input.lastName</code> changes.</p></section><section id=await><h2><a href=#await><code>&lt;await></code></a></h2><p>The <code>&lt;await></code> tag unwraps the promise in its <a href=./language#shorthand-value><code>value=</code> attribute</a> and exposes it through a <a href=./language#tag-parameters>tag parameter</a>.</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_1">await</span><span class="s_0">|</span><span class="s_5">user</span><span class="s_0">|</span><span class="s_2">=</span><span class="s_c">getUser</span><span class="s_0">()></span></span>
<span class="line"><span class="s_0">  &#x3C;</span><span class="s_1">img</span><span class="s_3"> src</span><span class="s_2">=user</span><span class="s_0">.</span><span class="s_2">avatar</span><span class="s_0">></span></span>
<span class="line"><span class="s_7">  ${</span><span class="s_2">user</span><span class="s_0">.</span><span class="s_2">name</span><span class="s_7">}</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">await</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">await</span><span class="s_0">|</span><span class="s_5">user</span><span class="s_0">|</span><span class="s_2">=</span><span class="s_c">getUser</span><span class="s_0">()</span></span>
<span class="line"><span class="s_1">  img</span><span class="s_3"> src</span><span class="s_2">=user</span><span class="s_0">.</span><span class="s_2">avatar</span></span>
<span class="line"><span class="s_0">  -- </span><span class="s_7">${</span><span class="s_2">user</span><span class="s_0">.</span><span class="s_2">name</span><span class="s_7">}</span></span></code></pre></div></div><p>If this tag has a <a href=#try><code>&lt;try></code></a> ancestor with a <a href=#placeholder><code>@placeholder</code></a>, the placeholder content is shown while the promise is pending.</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_1">try</span><span class="s_0">></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">  &#x3C;</span><span class="s_3">@placeholder</span><span class="s_0">>Loading...&#x3C;/</span><span class="s_3">@placeholder</span><span class="s_0">></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">  &#x3C;</span><span class="s_3">@catch</span><span class="s_0">|</span><span class="s_5">err</span><span class="s_0">|></span></span>
<span class="line"><span class="s_7">    ${</span><span class="s_2">err</span><span class="s_0">.</span><span class="s_2">message</span><span class="s_7">}</span></span>
<span class="line"><span class="s_0">  &#x3C;/</span><span class="s_3">@catch</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  &#x3C;</span><span class="s_1">div</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">    &#x3C;</span><span class="s_1">await</span><span class="s_0">|</span><span class="s_5">user</span><span class="s_0">|</span><span class="s_2">=</span><span class="s_c">getUser</span><span class="s_0">()></span></span>
<span class="line"><span class="s_7">      ${</span><span class="s_2">user</span><span class="s_0">.</span><span class="s_2">name</span><span class="s_7">}</span></span>
<span class="line"><span class="s_0">    &#x3C;/</span><span class="s_1">await</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  &#x3C;/</span><span class="s_1">div</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">try</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">try</span></span>
<span class="line"></span>
<span class="line"><span class="s_3">  @placeholder</span><span class="s_0"> -- Loading...</span></span>
<span class="line"></span>
<span class="line"><span class="s_3">  @catch</span><span class="s_0">|</span><span class="s_5">err</span><span class="s_0">| -- </span><span class="s_7">${</span><span class="s_2">err</span><span class="s_0">.</span><span class="s_2">message</span><span class="s_7">}</span></span>
<span class="line"><span class="s_1">  div</span></span>
<span class="line"><span class="s_1">    await</span><span class="s_0">|</span><span class="s_5">user</span><span class="s_0">|</span><span class="s_2">=</span><span class="s_c">getUser</span><span class="s_0">() -- </span><span class="s_7">${</span><span class="s_2">user</span><span class="s_0">.</span><span class="s_2">name</span><span class="s_7">}</span></span></code></pre></div></div></section><section id=try><h2><a href=#try><code>&lt;try></code></a></h2><p>The <code>&lt;try></code> tag is used for catching runtime errors and managing asynchronous boundaries. It has two optional <a href=./language#attribute-tags>attribute tags</a>: <code>@catch</code> and <code>@placeholder</code>.</p><section id=catch><h3><a href=#catch><code>@catch</code></a></h3><p>When a runtime error occurs in the <a href=./language#tag-content>content</a> of the <code>&lt;try></code> or its <code>@placeholder</code> attribute tag, the content is replaced with the content of the <code>@catch</code> attribute tag. The thrown <code>error</code> is made available as the <a href=./language#tag-parameters>tag parameter</a> of the <code>@catch</code>.</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_1">try</span><span class="s_0">></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">  &#x3C;</span><span class="s_3">@catch</span><span class="s_0">|</span><span class="s_5">err</span><span class="s_0">|></span></span>
<span class="line"><span class="s_7">    ${</span><span class="s_2">err</span><span class="s_0">.</span><span class="s_2">message</span><span class="s_7">}${</span><span class="s_6">" "</span><span class="s_7">}</span></span>
<span class="line"><span class="s_9">    // "Cannot read property `bar` of undefined"</span></span>
<span class="line"><span class="s_0">  &#x3C;/</span><span class="s_3">@catch</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  &#x3C;</span><span class="s_7">const</span><span class="s_0">/</span><span class="s_2">foo=</span><span class="s_0">{ bar: { baz: </span><span class="s_8">1</span><span class="s_0"> } }></span></span>
<span class="line"><span class="s_7">  ${</span><span class="s_2">foo</span><span class="s_0">.</span><span class="s_2">baz</span><span class="s_0">.</span><span class="s_2">bar</span><span class="s_7">}${</span><span class="s_6">" "</span><span class="s_7">}</span></span>
<span class="line"><span class="s_9">  // 💥 boom! 👇</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">try</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_1">try</span></span>
<span class="line"></span>
<span class="line"><span class="s_3">  @catch</span><span class="s_0">|</span><span class="s_5">err</span><span class="s_0">|</span></span>
<span class="line"><span class="s_0">    -- </span><span class="s_7">${</span><span class="s_2">err</span><span class="s_0">.</span><span class="s_2">message</span><span class="s_7">}${</span><span class="s_6">" "</span><span class="s_7">}</span></span>
<span class="line"><span class="s_9">    // "Cannot read property `bar` of undefined"</span></span>
<span class="line"><span class="s_7">  const</span><span class="s_0">/</span><span class="s_2">foo=</span><span class="s_0">{ bar: { baz: </span><span class="s_8">1</span><span class="s_0"> } }</span></span>
<span class="line"><span class="s_0">  -- </span><span class="s_7">${</span><span class="s_2">foo</span><span class="s_0">.</span><span class="s_2">baz</span><span class="s_0">.</span><span class="s_2">bar</span><span class="s_7">}${</span><span class="s_6">" "</span><span class="s_7">}</span></span>
<span class="line"><span class="s_9">  // 💥 boom! 👇</span></span></code></pre></div></div></section><section id=placeholder><h3><a href=#placeholder><code>@placeholder</code></a></h3><p>The <a href=./language#tag-content>content</a> of the <code>@placeholder</code> <a href=./language#attribute-tags>attribute tag</a> will be displayed while an <a href=#await><code>&lt;await></code> tag</a> is pending inside of the content of the <code>&lt;try></code>.</p></section></section><section id=html-comment><h2><a href=#html-comment><code>&lt;html-comment></code></a></h2><p>By default, <a href=./language#Comments>html comments</a> are stripped from the output. The <code>&lt;html-comment></code> tag is used to output a literal <code>&lt;!-- comment --></code>.</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_b">html-comment</span><span class="s_0">></span><span class="s_9">Hello, view source</span><span class="s_0">&#x3C;/</span><span class="s_b">html-comment</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_b">html-comment</span><span class="s_0"> --</span><span class="s_7"> ${</span><span class="s_6">"Hello, view source"</span><span class="s_7">}</span></span></code></pre></div></div><p>This tag also exposes a <a href=./language#tag-variables>tag variable</a> which contains a getter to the reference of the <a href=https://developer.mozilla.org/en-US/docs/Web/API/Comment>comment node</a> in the DOM.</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_b">html-comment</span><span class="s_0">/</span><span class="s_2">commentNode</span><span class="s_0">/></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">return</span><span class="s_0">() {</span></span>
<span class="line"><span class="s_1">  return</span><span class="s_c"> commentNode</span><span class="s_0">().</span><span class="s_2">parentNode</span><span class="s_0">.</span><span class="s_c">getBoundingClientRect</span><span class="s_0">()</span></span>
<span class="line"><span class="s_0">}></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_b">html-comment</span><span class="s_0">/</span><span class="s_2">commentNode</span></span>
<span class="line"></span>
<span class="line"><span class="s_1">return</span><span class="s_0">() {</span></span>
<span class="line"><span class="s_1">  return</span><span class="s_c"> commentNode</span><span class="s_0">().</span><span class="s_2">parentNode</span><span class="s_0">.</span><span class="s_c">getBoundingClientRect</span><span class="s_0">()</span></span>
<span class="line"><span class="s_0">}</span></span></code></pre></div></div></section><section id=html-script--html-style><h2><a href=#html-script--html-style><code>&lt;html-script></code> &amp; <code>&lt;html-style></code></a></h2><p>The <a href=./native-tag#script><code>&lt;script></code></a> and <a href=./native-tag#style><code>&lt;style></code></a> tags are enhanced to enable best practices and help developers avoid common footguns.</p><p>Though not typically needed, vanilla versions of these tags may be written via the <code>&lt;html-script></code> and <code>&lt;html-style></code> tags respectively.</p><callout role=note aria-labelledby=callout-cot-7 class=admonition-caution><cot id=callout-cot-7>Caution</cot><p>The <code>&lt;html-*></code> tags are only used for specialized use cases, and should <em>almost never</em> be used over <a href=./native-tag#script><code>&lt;script></code></a> or <a href=./native-tag#style><code>&lt;style></code></a>.</p></callout><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_9">// Literally written out as a `&#x3C;script>` html tag.</span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_b">html-script</span><span class="s_3"> type</span><span class="s_2">=</span><span class="s_6">"importmap"</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  { </span><span class="s_6">"imports"</span><span class="s_0">: { </span><span class="s_6">"square"</span><span class="s_0">: </span><span class="s_6">"./module/shapes/square.js"</span><span class="s_0"> } }</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_b">html-script</span><span class="s_0">></span></span>
<span class="line"><span class="s_9">// Literally written out as a `&#x3C;style>` html tag.</span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_b">html-style</span><span class="s_0">></span></span>
<span class="line"><span class="s_1">  @import</span><span class="s_7"> url</span><span class="s_0">(</span><span class="s_6">'https://fonts.googleapis.com/css2?family=Ubuntu&#x26;display=swap'</span><span class="s_0">);</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_b">html-style</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_4" tabindex="0"><code><span class="line"><span class="s_9">// Literally written out as a `&#x3C;script>` html tag.</span></span>
<span class="line"><span class="s_b">html-script</span><span class="s_3"> type</span><span class="s_2">=</span><span class="s_6">"importmap"</span><span class="s_0"> -- </span><span class="s_7">${</span><span class="s_6">`</span></span>
<span class="line"><span class="s_6">  { "imports": { "square": "./module/shapes/square.js" } }</span></span>
<span class="line"><span class="s_6">`</span><span class="s_7">}</span></span>
<span class="line"><span class="s_9">// Literally written out as a `&#x3C;style>` html tag.</span></span>
<span class="line"><span class="s_b">html-style</span><span class="s_0"> -- </span><span class="s_7">${</span><span class="s_6">`</span></span>
<span class="line"><span class="s_6">  @import url('https://fonts.googleapis.com/css2?family=Ubuntu&#x26;display=swap');</span></span>
<span class="line"><span class="s_6">`</span><span class="s_7">}</span></span></code></pre></div></div></section><hr><section id=_dm><h2 id=contributors><a href=#contributors>Contributors</a></h2><p>Helpful? You can thank these awesome people! You can also edit this doc if you see any issues or want to improve it.</p><script>(e=>(self[e]||(self[e]=(l,f=e+l,s=f.length,a={},d=[],t=document,n=t.createTreeWalker(t,129))=>t=self[e][l]={i:f,d:t,l:a,v:d,x(){},w(e,l,r){for(;e=n.nextNode();)t.x(l=(l=e.data)&&!l.indexOf(f)&&(a[r=l.slice(s+1)]=e,l[s]),r,e),l>"#"&&d.push(e)}}),self[e]))("M")("_");M._.r=[_=>(_.h=[{params:{},url:new URL("http://localhost/docs/reference/core-tag")},5,{4:!1},_.b={0:_.a={3:"concise-mode"},1:9,3:_.c={3:"ts-mode"},4:11,38:_.e={10:_.d={"aria-label":"Toggle Concise mode",checked:!1},f3:0},39:_.g={10:_.f={"aria-label":"Toggle TS mode",checked:!1},f3:0},40:!1,41:!1},_.a,1,_.c,55,_.e,{5:{},7:576,8:512},1,_.g,{5:{},7:576,8:512},180,{5:"if--else"},{5:"for"},{5:"let"},2,{5:"controllable-let"},{5:"const"},{5:"return"},2,{5:"assignable-return-value"},{5:"script"},{5:"style"},{5:"define"},{5:"lifecycle"},{5:"id"},{5:"log"},{5:"debug"},{5:"await"},{5:"try"},2,{5:"catch"},{5:"placeholder"},{5:"html-comment"},{5:"html-script--html-style"}],_.a.f=_._.e0(_.a),_.a.e=_._.o2(_.b),_.c.f=_._.e0(_.c),_.c.e=_._.o3(_.b),_.d.checkedChange=_.e.e3=_._.o0(_.b),_.f.checkedChange=_.g.e3=_._.o1(_.b),_.h),"h0",5,"n0",6,"n1",6,"e1",8,10,"c0",67,"q0",66,"c0",70,"q0",69,"o32",7,"o33",7,"o34",7];M._.w()</script><ul><li><a href=https://github.com/LuLaValva><img src=https://avatars.githubusercontent.com/u/26027232?v=4 alt>LuLaValva</a></li><li><a href=https://github.com/DylanPiercey><img src=https://avatars.githubusercontent.com/u/4985201?v=4 alt>DylanPiercey</a></li><li><a href=https://github.com/marko-js/website-next/blob/main/docs/reference/core-tag.md><div><svg viewBox="0 0 448 512"><path d="M256 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 160-160 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l160 0 0 160c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160 160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-160 0 0-160z"></path></svg><!--M_*282 0--></div>You?</a></li></ul></section></article><div class=_cQ id=page-menu><nav aria-labelledby=sM_1 class=_cR id=_dk><ul><li><strong id=sM_1>On this Page</strong></li><li><a href=#if--else>&lt;if> / &lt;else></a><!--M_*251 0--></li><li><a href=#for>&lt;for></a><!--M_*252 0--></li><li><a href=#let>&lt;let></a><!--M_*253 0--><ul><li><a href=#controllable-let>Controllable Let</a><!--M_*256 0--></li></ul></li><li><a href=#const>&lt;const></a><!--M_*257 0--></li><li><a href=#return>&lt;return></a><!--M_*258 0--><ul><li><a href=#assignable-return-value>Assignable Return Value</a><!--M_*261 0--></li></ul></li><li><a href=#script>&lt;script></a><!--M_*262 0--></li><li><a href=#style>&lt;style></a><!--M_*263 0--></li><li><a href=#define>&lt;define></a><!--M_*264 0--></li><li><a href=#lifecycle>&lt;lifecycle></a><!--M_*265 0--></li><li><a href=#id>&lt;id></a><!--M_*266 0--></li><li><a href=#log>&lt;log></a><!--M_*267 0--></li><li><a href=#debug>&lt;debug></a><!--M_*268 0--></li><li><a href=#await>&lt;await></a><!--M_*269 0--></li><li><a href=#try>&lt;try></a><!--M_*270 0--><ul><li><a href=#catch>@catch</a><!--M_*273 0--></li><li><a href=#placeholder>@placeholder</a><!--M_*274 0--></li></ul></li><li><a href=#html-comment>&lt;html-comment></a><!--M_*275 0--></li><li><a href=#html-script--html-style>&lt;html-script> &amp; &lt;html-style></a><!--M_*276 0--></li></ul></nav></div></main></div><footer id=_a><a href="https://openjsf.org/" class=_b><img src=/assets/openjsf-u4IcyPV8.svg alt> <span><span class=_e>OpenJS&nbsp;</span><span class=_f>Foundation</span></span></a><div class=_g></div><a href=https://github.com/marko-js/marko/blob/main/LICENSE class=_d><img src=/assets/osi-BEF6Mbrt.svg alt> MIT&nbsp;License</a><div class=_g></div><a href=https://github.com/eBay class=_c><img src=/assets/ebay-CSr9mcj_.svg alt=eBay> open&nbsp;source</a></footer><script>M._.r.push(_=>(_.i=[5,{5:{},7:448,8:512}]),"c0",282,"j0",251,252,256,253,257,261,258,262,263,264,265,266,267,268,269,273,274,270,275,276);M._.w()</script></body></html>