<!DOCTYPE html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width, initial-scale=1.0"><meta name=description content="The Marko programming language"><title>Why is Marko Fast? | Marko</title><link rel=icon sizes=32x32 href=/fav.png><link rel=icon type=image/svg+xml href=/fav.svg><link rel=preconnect href=https://GB0QQV5RQM-dsn.algolia.net crossorigin><script async type="module" crossorigin src="/assets/docs.explanation.why-is-marko-fast-DFERZkYO.js"></script><link rel="modulepreload" crossorigin href="/assets/_BgwP02TS.js"><link rel="modulepreload" crossorigin href="/assets/_jdHdbxbs.js"><link rel="modulepreload" crossorigin href="/assets/_Bb5XBVXa.js"><link rel="stylesheet" crossorigin href="/assets/_layout-D5jnKc0_.css"><link rel="stylesheet" crossorigin href="/assets/_layout-CmVm9ZC2.css"><link rel="stylesheet" crossorigin href="/assets/app-code-block-DzvS1Xn3.css"></head><body><div id=root><header id=header><a title=Home href="/" id=_dC><picture><source srcset=/assets/logo.svg#dark media=(prefers-color-scheme:dark)><img alt="Marko Logo" src=/assets/logo.svg></picture></a><!--M_*5 a--><div class=_dA><a href=/docs>Docs</a><a href=/playground>Playground</a><a href=https://github.com/marko-js/marko>GitHub</a></div><button aria-pressed=false aria-label="Show menu" id=_dB></button><!--M_*5 c--><div id=_dD><button disabled aria-hidden=true></button></div><!--M_*5 d--></header><main><script>document.documentElement.classList.toggle("concise-mode",localStorage.getItem("concise-mode")==='true');</script><script>document.documentElement.classList.toggle("ts-mode",localStorage.getItem("ts-mode")==='true');</script><div class=_dc id=site-menu><nav class=_dd id=_de><ul><li><strong>Introduction</strong><ul><li><a href=/docs/introduction/getting-started>Getting Started</a></li><li><a href=/docs/introduction/welcome-to-marko>Welcome to Marko!</a></li><li><a href=/docs/introduction/installation>Installation</a></li><li><a href=/docs/introduction/why-marko>Why Marko?</a></li><li><a href=/docs/introduction/integrations>Integrations</a></li></ul></li><li><strong>Tutorials</strong><ul><li><a href=/docs/tutorial/fundamentals>Fundamentals</a></li><li><a href=/docs/tutorial/components-and-reactivity>Components and Reactivity</a></li></ul></li><li><strong>Guides</strong><ul><li><a href=/docs/guide/styling>Styling</a></li></ul></li><li><strong>Explanation</strong><ul><li><a href=/docs/explanation/why-is-marko-fast aria-current=true>Why is Marko Fast?</a></li><li><a href=/docs/explanation/streaming>Streaming</a></li><li><a href=/docs/explanation/targeted-compilation>Targeted Compilation</a></li><li><a href=/docs/explanation/fine-grained-bundling>Fine-Grained Bundling</a></li><li><a href=/docs/explanation/separation-of-concerns>Separation of Concerns</a></li><li><a href=/docs/explanation/controllable-components>Controllable Components</a></li><li><a href=/docs/explanation/nested-reactivity>Nested Reactivity</a></li><li><a href=/docs/explanation/immutable-state>Immutable State</a></li><li><a href=/docs/explanation/serializable-state>Serializable State</a></li></ul></li><li><strong>Reference</strong><ul><li><a href=/docs/reference/language>Language</a></li><li><a href=/docs/reference/custom-tag>Custom Tags</a></li><li><a href=/docs/reference/reactivity>Reactivity</a></li><li><a href=/docs/reference/core-tag>Core Tags</a></li><li><a href=/docs/reference/native-tag>Native Tags</a></li><li><a href=/docs/reference/typescript>TypeScript</a></li><li><a href=/docs/reference/template>Template API</a></li><li><a href=/docs/reference/concise-syntax>Concise Syntax</a></li></ul></li><li><strong>Marko Run</strong><ul><li><a href=/docs/marko-run/getting-started>Getting Started</a></li><li><a href=/docs/marko-run/file-based-routing>File-based Routing</a></li><li><a href=/docs/marko-run/typescript>TypeScript</a></li></ul></li></ul></nav><!--M_*6 h--><div id=_dg><label class=_dh>Version&nbsp;<select><option value selected>6.x</option><option value=https://v5.markojs.com/docs/getting-started>5.x</option><option value="http://marko-v4.github.io/docs/">4.x</option><option value="http://v3.markojs.com/docs/">3.x</option><option value="http://marko-v2.github.io/docs/">2.x</option></select><!--M_*6 ac--></label><label class=_R><span>HTML</span><span class=_Q><input type=checkbox aria-label="Toggle Concise mode"><!--M_*67 d--><svg viewBox="0 0 576 512"><path d="M384 128c70.7 0 128 57.3 128 128S454.7 384 384 384l-192 0c-70.7 0-128-57.3-128-128s57.3-128 128-128l192 0zM576 256c0-106-86-192-192-192L192 64C86 64 0 150 0 256S86 448 192 448l192 0c106 0 192-86 192-192zM192 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"></path></svg><!--M_*68 a--></span><span>Concise</span></label><label class=_R><span>JS</span><span class=_Q><input type=checkbox aria-label="Toggle TS mode"><!--M_*70 d--><svg viewBox="0 0 576 512"><path d="M384 128c70.7 0 128 57.3 128 128S454.7 384 384 384l-192 0c-70.7 0-128-57.3-128-128s57.3-128 128-128l192 0zM576 256c0-106-86-192-192-192L192 64C86 64 0 150 0 256S86 448 192 448l192 0c106 0 192-86 192-192zM192 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"></path></svg><!--M_*71 a--></span><span>TS</span></label></div></div><script>document.getElementById("_de").scrollTop = +(sessionStorage.getItem("menu-scroll-position") || 0)</script><article id=_dj><h1 id=why-is-marko-fast>Why is Marko Fast?</h1><callout role=note aria-labelledby=callout-cot-0 class=admonition-tldr><cot id=callout-cot-0>TL;DR</cot><ul><li>Zero-JS by default with fine-grained bundling</li><li>Targeted compilation for server and client</li><li>First-class HTML streaming capabilities</li><li>Compile-time reactivity</li></ul></callout><p>Marko is heavily optimized for small bundles, fast server renders, and <a href=https://github.com/krausest/js-framework-benchmark>efficient client updates</a>. Independent benchmarks show Marko generating <a href=https://www.lorenstew.art/blog/10-kanban-boards>far smaller bundles than similar frameworks</a>, and Marko has <a href=https://github.com/BuilderIO/framework-benchmarks?tab=readme-ov-file#ssr-times>topped the charts</a> on <a href=https://github.com/eknkc/ssr-benchmark?tab=readme-ov-file#renderers>JS framework SSR comparisons</a> for <a href=https://github.com/raxjs/server-side-rendering-comparison?tab=readme-ov-file>nearly a decade</a>. These wins are fueled by Marko&#39;s <em>obsession</em> with bundle size and performance, both in micro-optimizations and larger architectural decisions.</p><p>This article focuses on the details of optimizations applied to Marko, rather than comparing benchmark numbers. Our mission is to move as much complexity as we can out of your code and into the compiler, and we&#39;ve come a long way since the first version of this page <a href=https://medium.com/hackernoon/why-is-marko-fast-a20796cb8ae3>in 2017</a>!</p><section id=targeted-compilation><h2><a href=#targeted-compilation>Targeted Compilation</a></h2><p>The Marko compiler produces two outputs: one for the server, and one for the browser. Each compilation produces code optimized for its specific environment. To get a feel for this, visit <a href=/playground>our playground</a> and select &quot;Client JS&quot; or &quot;Server JS&quot; in the preview menu.</p><section id=server-compilation><h3><a href=#server-compilation>Server Compilation</a></h3><p>Compared to frameworks that use virtual DOM, Marko has a significant advantage for server-side rendering. Virtual DOM approaches require a two-step process to render HTML:</p><ol><li>First pass to produce an entire virtual DOM tree in memory</li><li>Second pass to serialize the virtual DOM tree to an HTML string that can be sent over the wire</li></ol><p>In contrast, Marko renders directly to an HTML stream in a single pass. There is no intermediate tree data structure. The server compilation of a Marko application is essentially a series of string concatenations that build up an HTML document, and server render requires no DOM representation.</p><callout role=note aria-labelledby=callout-cot-1 class=admonition-tip><cot id=callout-cot-1>Tip</cot><p>This single-pass approach naturally enables <a href=#html-streaming>HTML streaming</a>, allowing content to be sent to the browser progressively as it&#39;s rendered.</p></callout></section><section id=client-compilation><h3><a href=#client-compilation>Client Compilation</a></h3><p>The code that Marko <em>does</em> end up sending to the client after its <a href=#js-scales-from-zero>fine-grained bundling</a> includes only <a href=./serializable-state>stateful values</a>, <a href=../reference/core-tag#script>event handlers and <code>&lt;script></code> effects</a>, and a <a href=#tree-shakeable-runtime>tree-shaken runtime</a> for core features.</p><p>Because of <a href=#compile-time-reactivity>compile-time reactivity</a>, Marko does <em>not</em> need to include a JS-based representation of the DOM in the client compilation.</p><p>Read more about this in <a href=./targeted-compilation>Targeted Compilation</a>.</p></section></section><section id=html-streaming><h2><a href=#html-streaming>HTML Streaming</a></h2><p>Marko has first-class support for HTML streaming, allowing content to be sent to the browser as soon as it&#39;s ready rather than waiting for the entire page to finish rendering:</p><div class=code-block><div class=html><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_0">// Fast content renders immediately</span></span>
<span class="line"><span class="s_1">&#x3C;</span><span class="s_2">h1</span><span class="s_1">></span><span class="s_3">${</span><span class="s_4">input</span><span class="s_1">.</span><span class="s_4">title</span><span class="s_3">}</span><span class="s_1">&#x3C;/</span><span class="s_2">h1</span><span class="s_1">></span></span>
<span class="line"><span class="s_1">&#x3C;</span><span class="s_2">section</span><span class="s_1">></span></span>
<span class="line"><span class="s_1">  &#x3C;</span><span class="s_3">${</span><span class="s_4">input</span><span class="s_1">.</span><span class="s_4">content</span><span class="s_3">}</span><span class="s_1">/></span></span>
<span class="line"><span class="s_1">&#x3C;/</span><span class="s_2">section</span><span class="s_1">></span></span>
<span class="line"><span class="s_0">// Slow content streams when ready</span></span>
<span class="line"><span class="s_1">&#x3C;</span><span class="s_2">await</span><span class="s_1">|</span><span class="s_5">recommendations</span><span class="s_1">|</span><span class="s_4">=</span><span class="s_6">fetchRecommendations</span><span class="s_1">(</span><span class="s_4">input</span><span class="s_1">.</span><span class="s_4">id</span><span class="s_1">)></span></span>
<span class="line"><span class="s_1">  &#x3C;</span><span class="s_2">ul</span><span class="s_1">></span></span>
<span class="line"><span class="s_1">    &#x3C;</span><span class="s_2">for</span><span class="s_1">|</span><span class="s_5">item</span><span class="s_1">| </span><span class="s_7">of</span><span class="s_4">=recommendations</span><span class="s_1">></span></span>
<span class="line"><span class="s_1">      &#x3C;</span><span class="s_2">li</span><span class="s_1">></span><span class="s_3">${</span><span class="s_4">item</span><span class="s_1">.</span><span class="s_4">title</span><span class="s_3">}</span><span class="s_1">&#x3C;/</span><span class="s_2">li</span><span class="s_1">></span></span>
<span class="line"><span class="s_1">    &#x3C;/</span><span class="s_2">for</span><span class="s_1">></span></span>
<span class="line"><span class="s_1">  &#x3C;/</span><span class="s_2">ul</span><span class="s_1">></span></span>
<span class="line"><span class="s_1">&#x3C;/</span><span class="s_2">await</span><span class="s_1">></span></span></code></pre></div><div class=html-ts><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_2">export</span><span class="s_9"> interface</span><span class="s_1"> Input {</span></span>
<span class="line"><span class="s_4">  title</span><span class="s_2">:</span><span class="s_a"> string</span><span class="s_1">;</span></span>
<span class="line"><span class="s_4">  content</span><span class="s_2">:</span><span class="s_1"> Marko.Body;</span></span>
<span class="line"><span class="s_4">  id</span><span class="s_2">:</span><span class="s_a"> string</span><span class="s_1">;</span></span>
<span class="line"><span class="s_1">}</span></span>
<span class="line"><span class="s_0">// Fast content renders immediately</span></span>
<span class="line"><span class="s_1">&#x3C;</span><span class="s_2">h1</span><span class="s_1">></span><span class="s_3">${</span><span class="s_4">input</span><span class="s_1">.</span><span class="s_4">title</span><span class="s_3">}</span><span class="s_1">&#x3C;/</span><span class="s_2">h1</span><span class="s_1">></span></span>
<span class="line"><span class="s_1">&#x3C;</span><span class="s_2">section</span><span class="s_1">></span></span>
<span class="line"><span class="s_1">  &#x3C;</span><span class="s_3">${</span><span class="s_4">input</span><span class="s_1">.</span><span class="s_4">content</span><span class="s_3">}</span><span class="s_1">/></span></span>
<span class="line"><span class="s_1">&#x3C;/</span><span class="s_2">section</span><span class="s_1">></span></span>
<span class="line"><span class="s_0">// Slow content streams when ready</span></span>
<span class="line"><span class="s_1">&#x3C;</span><span class="s_2">await</span><span class="s_1">|</span><span class="s_5">recommendations</span><span class="s_1">|</span><span class="s_4">=</span><span class="s_6">fetchRecommendations</span><span class="s_1">(</span><span class="s_4">input</span><span class="s_1">.</span><span class="s_4">id</span><span class="s_1">)></span></span>
<span class="line"><span class="s_1">  &#x3C;</span><span class="s_2">ul</span><span class="s_1">></span></span>
<span class="line"><span class="s_1">    &#x3C;</span><span class="s_2">for</span><span class="s_1">|</span><span class="s_5">item</span><span class="s_1">| </span><span class="s_7">of</span><span class="s_4">=recommendations</span><span class="s_1">></span></span>
<span class="line"><span class="s_1">      &#x3C;</span><span class="s_2">li</span><span class="s_1">></span><span class="s_3">${</span><span class="s_4">item</span><span class="s_1">.</span><span class="s_4">title</span><span class="s_3">}</span><span class="s_1">&#x3C;/</span><span class="s_2">li</span><span class="s_1">></span></span>
<span class="line"><span class="s_1">    &#x3C;/</span><span class="s_2">for</span><span class="s_1">></span></span>
<span class="line"><span class="s_1">  &#x3C;/</span><span class="s_2">ul</span><span class="s_1">></span></span>
<span class="line"><span class="s_1">&#x3C;/</span><span class="s_2">await</span><span class="s_1">></span></span></code></pre></div><div class=concise><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_0">// Fast content renders immediately</span></span>
<span class="line"><span class="s_2">h1</span><span class="s_1"> -- </span><span class="s_3">${</span><span class="s_4">input</span><span class="s_1">.</span><span class="s_4">title</span><span class="s_3">}</span></span>
<span class="line"><span class="s_2">section</span></span>
<span class="line"><span class="s_3">  ${</span><span class="s_4">input</span><span class="s_1">.</span><span class="s_4">content</span><span class="s_3">}</span></span>
<span class="line"><span class="s_0">// Slow content streams when ready</span></span>
<span class="line"><span class="s_2">await</span><span class="s_1">|</span><span class="s_5">recommendations</span><span class="s_1">|</span><span class="s_4">=</span><span class="s_6">fetchRecommendations</span><span class="s_1">(</span><span class="s_4">input</span><span class="s_1">.</span><span class="s_4">id</span><span class="s_1">)</span></span>
<span class="line"><span class="s_2">  ul</span></span>
<span class="line"><span class="s_2">    for</span><span class="s_1">|</span><span class="s_5">item</span><span class="s_1">| </span><span class="s_7">of</span><span class="s_4">=recommendations</span></span>
<span class="line"><span class="s_2">      li</span><span class="s_1"> -- </span><span class="s_3">${</span><span class="s_4">item</span><span class="s_1">.</span><span class="s_4">title</span><span class="s_3">}</span></span></code></pre></div><div class=concise-ts><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_2">export</span><span class="s_9"> interface</span><span class="s_1"> Input {</span></span>
<span class="line"><span class="s_4">  title</span><span class="s_2">:</span><span class="s_a"> string</span><span class="s_1">;</span></span>
<span class="line"><span class="s_4">  content</span><span class="s_2">:</span><span class="s_1"> Marko.Body;</span></span>
<span class="line"><span class="s_4">  id</span><span class="s_2">:</span><span class="s_a"> string</span><span class="s_1">;</span></span>
<span class="line"><span class="s_1">}</span></span>
<span class="line"><span class="s_0">// Fast content renders immediately</span></span>
<span class="line"><span class="s_2">h1</span><span class="s_1"> -- </span><span class="s_3">${</span><span class="s_4">input</span><span class="s_1">.</span><span class="s_4">title</span><span class="s_3">}</span></span>
<span class="line"><span class="s_2">section</span></span>
<span class="line"><span class="s_3">  ${</span><span class="s_4">input</span><span class="s_1">.</span><span class="s_4">content</span><span class="s_3">}</span></span>
<span class="line"><span class="s_0">// Slow content streams when ready</span></span>
<span class="line"><span class="s_2">await</span><span class="s_1">|</span><span class="s_5">recommendations</span><span class="s_1">|</span><span class="s_4">=</span><span class="s_6">fetchRecommendations</span><span class="s_1">(</span><span class="s_4">input</span><span class="s_1">.</span><span class="s_4">id</span><span class="s_1">)</span></span>
<span class="line"><span class="s_2">  ul</span></span>
<span class="line"><span class="s_2">    for</span><span class="s_1">|</span><span class="s_5">item</span><span class="s_1">| </span><span class="s_7">of</span><span class="s_4">=recommendations</span></span>
<span class="line"><span class="s_2">      li</span><span class="s_1"> -- </span><span class="s_3">${</span><span class="s_4">item</span><span class="s_1">.</span><span class="s_4">title</span><span class="s_3">}</span></span></code></pre></div></div><style>.s_0{--shiki-light:#73738C;--shiki-dark:#8F8F9E}.s_1{--shiki-light:#202124;--shiki-dark:#FFF}.s_2{--shiki-light:#D91880;--shiki-dark:#FF4185}.s_3{--shiki-light:#0D7BBF;--shiki-dark:#66D9EF}.s_4{--shiki-light:#202124;--shiki-dark:#FFFFFF}.s_5{--shiki-light:#B05C1C;--shiki-light-font-style:italic;--shiki-dark:#FFB86C;--shiki-dark-font-style:italic}.s_6{--shiki-light:#1D8649;--shiki-dark:#7FFF00}.s_7{--shiki-light:#46821C;--shiki-dark:#A6E22E}.s_8{--shiki-light:#202124;--shiki-dark:#FFF;--shiki-light-bg:#00000000;--shiki-dark-bg:#00000000}.s_9{--shiki-light:#0D7BBF;--shiki-light-font-style:italic;--shiki-dark:#5BD7FF;--shiki-dark-font-style:italic}.s_a{--shiki-light:#0D7BBF;--shiki-light-font-style:italic;--shiki-dark:#66D9EF;--shiki-dark-font-style:italic}</style><p>Marko flushes the heading and main section immediately. When <code>fetchRecommendations()</code> resolves, the recommendations section streams to the client.</p><callout role=note aria-labelledby=callout-cot-2 class=admonition-note><cot id=callout-cot-2>Note</cot><p>The browser begins rendering immediately as content arrives, rather than waiting for the complete HTML document. This improves perceived performance, especially for pages with slow data dependencies.</p></callout><p>Marko has supported streaming <a href="https://innovation.ebayinc.com/stories/async-fragments-rediscovering-progressive-html-rendering-with-marko/">since 2013</a>, predating other frontend frameworks by nearly a decade. See <a href=./streaming>HTML Streaming</a> for more details.</p></section><section id=js-scales-from-zero><h2><a href=#js-scales-from-zero>JS Scales from Zero</a></h2><p>A key difference between Marko 6 and other frameworks is what it doesn&#39;t need to include in the client bundle. Static content compiles to zero client-side JavaScript <em>even when it is in the same component as interactive content</em>, and work that happens on the server is never re-executed by browser JS unless necessary.</p><section id=fine-grained-bundling><h3><a href=#fine-grained-bundling>Fine-Grained Bundling</a></h3><p>Marko&#39;s compiler looks at each component and determines which <em>parts</em> of it will update after state changes on the client.</p><div class=code-block><div class=filename>listing.marko</div><div class=html><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_1">&#x3C;</span><span class="s_2">h1</span><span class="s_1">></span><span class="s_3">${</span><span class="s_4">input</span><span class="s_1">.</span><span class="s_4">product</span><span class="s_1">.</span><span class="s_4">name</span><span class="s_3">}</span><span class="s_1">&#x3C;/</span><span class="s_2">h1</span><span class="s_1">></span></span>
<span class="line"><span class="s_1">&#x3C;</span><span class="s_2">p</span><span class="s_1">></span><span class="s_3">${</span><span class="s_4">input</span><span class="s_1">.</span><span class="s_4">product</span><span class="s_1">.</span><span class="s_4">description</span><span class="s_3">}</span><span class="s_1">&#x3C;/</span><span class="s_2">p</span><span class="s_1">></span></span>
<span class="line"><span class="s_1">&#x3C;</span><span class="s_2">div</span><span class="s_1">>Price: $</span><span class="s_3">${</span><span class="s_4">input</span><span class="s_1">.</span><span class="s_4">product</span><span class="s_1">.</span><span class="s_4">price</span><span class="s_3">}</span><span class="s_1">&#x3C;/</span><span class="s_2">div</span><span class="s_1">></span></span>
<span class="line"></span>
<span class="line"><span class="s_1">&#x3C;</span><span class="s_3">let</span><span class="s_1">/</span><span class="s_4">quantity=</span><span class="s_b">1</span><span class="s_1">></span></span>
<span class="line"><span class="s_1">&#x3C;</span><span class="s_2">button</span><span class="s_a"> onClick</span><span class="s_1">() { </span><span class="s_4">quantity</span><span class="s_2">--</span><span class="s_1"> }></span></span>
<span class="line"><span class="s_1">  -</span></span>
<span class="line"><span class="s_1">&#x3C;/</span><span class="s_2">button</span><span class="s_1">></span></span>
<span class="line"><span class="s_1">&#x3C;</span><span class="s_2">span</span><span class="s_1">></span><span class="s_3">${</span><span class="s_4">quantity</span><span class="s_3">}</span><span class="s_1">&#x3C;/</span><span class="s_2">span</span><span class="s_1">></span></span>
<span class="line"><span class="s_1">&#x3C;</span><span class="s_2">button</span><span class="s_a"> onClick</span><span class="s_1">() { </span><span class="s_4">quantity</span><span class="s_2">++</span><span class="s_1"> }></span></span>
<span class="line"><span class="s_1">  +</span></span>
<span class="line"><span class="s_1">&#x3C;/</span><span class="s_2">button</span><span class="s_1">></span></span></code></pre></div><div class=html-ts><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_2">export</span><span class="s_9"> interface</span><span class="s_1"> Input {</span></span>
<span class="line"><span class="s_4">  product</span><span class="s_2">:</span><span class="s_1"> Marko.AttrTag&#x3C;{ </span><span class="s_4">name</span><span class="s_2">:</span><span class="s_a"> string</span><span class="s_1">; </span><span class="s_4">content</span><span class="s_2">:</span><span class="s_1"> Marko.Body; </span><span class="s_4">price</span><span class="s_2">:</span><span class="s_a"> number</span><span class="s_1"> }></span></span>
<span class="line"><span class="s_1">}</span></span>
<span class="line"></span>
<span class="line"><span class="s_1">&#x3C;</span><span class="s_2">h1</span><span class="s_1">></span><span class="s_3">${</span><span class="s_4">input</span><span class="s_1">.</span><span class="s_4">product</span><span class="s_1">.</span><span class="s_4">name</span><span class="s_3">}</span><span class="s_1">&#x3C;/</span><span class="s_2">h1</span><span class="s_1">></span></span>
<span class="line"><span class="s_1">&#x3C;</span><span class="s_2">p</span><span class="s_1">></span><span class="s_3">${</span><span class="s_4">input</span><span class="s_1">.</span><span class="s_4">product</span><span class="s_1">.</span><span class="s_4">description</span><span class="s_3">}</span><span class="s_1">&#x3C;/</span><span class="s_2">p</span><span class="s_1">></span></span>
<span class="line"><span class="s_1">&#x3C;</span><span class="s_2">div</span><span class="s_1">>Price: $</span><span class="s_3">${</span><span class="s_4">input</span><span class="s_1">.</span><span class="s_4">product</span><span class="s_1">.</span><span class="s_4">price</span><span class="s_3">}</span><span class="s_1">&#x3C;/</span><span class="s_2">div</span><span class="s_1">></span></span>
<span class="line"></span>
<span class="line"><span class="s_1">&#x3C;</span><span class="s_3">let</span><span class="s_1">/</span><span class="s_4">quantity=</span><span class="s_b">1</span><span class="s_1">></span></span>
<span class="line"><span class="s_1">&#x3C;</span><span class="s_2">button</span><span class="s_a"> onClick</span><span class="s_1">() { </span><span class="s_4">quantity</span><span class="s_2">--</span><span class="s_1"> }></span></span>
<span class="line"><span class="s_1">  -</span></span>
<span class="line"><span class="s_1">&#x3C;/</span><span class="s_2">button</span><span class="s_1">></span></span>
<span class="line"><span class="s_1">&#x3C;</span><span class="s_2">span</span><span class="s_1">></span><span class="s_3">${</span><span class="s_4">quantity</span><span class="s_3">}</span><span class="s_1">&#x3C;/</span><span class="s_2">span</span><span class="s_1">></span></span>
<span class="line"><span class="s_1">&#x3C;</span><span class="s_2">button</span><span class="s_a"> onClick</span><span class="s_1">() { </span><span class="s_4">quantity</span><span class="s_2">++</span><span class="s_1"> }></span></span>
<span class="line"><span class="s_1">  +</span></span>
<span class="line"><span class="s_1">&#x3C;/</span><span class="s_2">button</span><span class="s_1">></span></span></code></pre></div><div class=concise><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_2">h1</span><span class="s_1"> -- </span><span class="s_3">${</span><span class="s_4">input</span><span class="s_1">.</span><span class="s_4">product</span><span class="s_1">.</span><span class="s_4">name</span><span class="s_3">}</span></span>
<span class="line"><span class="s_2">p</span><span class="s_1"> -- </span><span class="s_3">${</span><span class="s_4">input</span><span class="s_1">.</span><span class="s_4">product</span><span class="s_1">.</span><span class="s_4">description</span><span class="s_3">}</span></span>
<span class="line"><span class="s_2">div</span><span class="s_1"> -- Price: $</span><span class="s_3">${</span><span class="s_4">input</span><span class="s_1">.</span><span class="s_4">product</span><span class="s_1">.</span><span class="s_4">price</span><span class="s_3">}</span></span>
<span class="line"></span>
<span class="line"><span class="s_3">let</span><span class="s_1">/</span><span class="s_4">quantity=</span><span class="s_b">1</span></span>
<span class="line"><span class="s_2">button</span><span class="s_a"> onClick</span><span class="s_1">() { </span><span class="s_4">quantity</span><span class="s_2">--</span><span class="s_1"> } -- -</span></span>
<span class="line"><span class="s_2">span</span><span class="s_1"> -- </span><span class="s_3">${</span><span class="s_4">quantity</span><span class="s_3">}</span></span>
<span class="line"><span class="s_2">button</span><span class="s_a"> onClick</span><span class="s_1">() { </span><span class="s_4">quantity</span><span class="s_2">++</span><span class="s_1"> } -- +</span></span></code></pre></div><div class=concise-ts><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_2">export</span><span class="s_9"> interface</span><span class="s_1"> Input {</span></span>
<span class="line"><span class="s_4">  product</span><span class="s_2">:</span><span class="s_1"> Marko.AttrTag&#x3C;{ </span><span class="s_4">name</span><span class="s_2">:</span><span class="s_a"> string</span><span class="s_1">; </span><span class="s_4">content</span><span class="s_2">:</span><span class="s_1"> Marko.Body; </span><span class="s_4">price</span><span class="s_2">:</span><span class="s_a"> number</span><span class="s_1"> }></span></span>
<span class="line"><span class="s_1">}</span></span>
<span class="line"></span>
<span class="line"><span class="s_2">h1</span><span class="s_1"> -- </span><span class="s_3">${</span><span class="s_4">input</span><span class="s_1">.</span><span class="s_4">product</span><span class="s_1">.</span><span class="s_4">name</span><span class="s_3">}</span></span>
<span class="line"><span class="s_2">p</span><span class="s_1"> -- </span><span class="s_3">${</span><span class="s_4">input</span><span class="s_1">.</span><span class="s_4">product</span><span class="s_1">.</span><span class="s_4">description</span><span class="s_3">}</span></span>
<span class="line"><span class="s_2">div</span><span class="s_1"> -- Price: $</span><span class="s_3">${</span><span class="s_4">input</span><span class="s_1">.</span><span class="s_4">product</span><span class="s_1">.</span><span class="s_4">price</span><span class="s_3">}</span></span>
<span class="line"></span>
<span class="line"><span class="s_3">let</span><span class="s_1">/</span><span class="s_4">quantity=</span><span class="s_b">1</span></span>
<span class="line"><span class="s_2">button</span><span class="s_a"> onClick</span><span class="s_1">() { </span><span class="s_4">quantity</span><span class="s_2">--</span><span class="s_1"> } -- -</span></span>
<span class="line"><span class="s_2">span</span><span class="s_1"> -- </span><span class="s_3">${</span><span class="s_4">quantity</span><span class="s_3">}</span></span>
<span class="line"><span class="s_2">button</span><span class="s_a"> onClick</span><span class="s_1">() { </span><span class="s_4">quantity</span><span class="s_2">++</span><span class="s_1"> } -- +</span></span></code></pre></div></div><style>.s_b{--shiki-light:#7C4DFF;--shiki-dark:#AE81FF}</style><p>When this <code>&lt;listing></code> component is rendered in a server context, the <em>only</em> JavaScript sent to the browser is an event listener for each button and the logic for updating text in the <code>&lt;span></code>. Since Marko analyzes the entire codebase at compile time, it is able to determine that everything else is static and requires no client-side code.</p><p>Some frameworks, including older versions of Marko, use the <a href="https://www.patterns.dev/vanilla/islands-architecture/">islands architecture</a> to achieve similar results. Islands operate at component boundaries, but Marko analyzes at the <em>expression level</em>. Within a single component, static expressions generate no JavaScript while interactive expressions generate targeted update code. This granularity helps to significantly reduce the amount of static content that ends up in the client bundle.</p><p>See <a href=./fine-grained-bundling>Fine-Grained Bundling</a> for more details.</p></section><section id=resumability><h3><a href=#resumability>Resumability</a></h3><p>Most frameworks with SSR will <em>re-execute</em> portions of the application on the client after HTML has been sent from the server in a process called <a href=https://en.wikipedia.org/wiki/Hydration_(web_development)>hydration</a>. Not only does this process require that work is doubled (once on the server and once on the client), but it also necessitates that client rendering logic is included for each interactive component.</p><p>Marko&#39;s client-side code doesn&#39;t re-render components during initialization. Instead it hooks up event listeners, deserializes stateful data, and determines which DOM nodes it will need to update once state changes. Notably, state is <em>not</em> re-created by client-side JavaScript.</p></section></section><section id=tree-shakeable-runtime><h2><a href=#tree-shakeable-runtime>Tree-Shakeable Runtime</a></h2><p>The Marko runtime is not distributed as a single JavaScript file. The compiler generates code that imports only the specific runtime helpers needed by each template.</p><div class=code-block><div class=filename>template.marko</div><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_1">&#x3C;</span><span class="s_3">let</span><span class="s_1">/</span><span class="s_4">color=</span><span class="s_c">"red"</span><span class="s_1">></span></span>
<span class="line"><span class="s_1">&#x3C;</span><span class="s_2">div</span><span class="s_7"> style</span><span class="s_4">=</span><span class="s_1">{ </span><span class="s_c">"background-color"</span><span class="s_1">: </span><span class="s_4">color</span><span class="s_1"> }></span></span>
<span class="line"><span class="s_1">  Content</span></span>
<span class="line"><span class="s_1">&#x3C;/</span><span class="s_2">div</span><span class="s_1">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_3">let</span><span class="s_1">/</span><span class="s_4">color=</span><span class="s_c">"red"</span></span>
<span class="line"><span class="s_2">div</span><span class="s_7"> style</span><span class="s_4">=</span><span class="s_1">{ </span><span class="s_c">"background-color"</span><span class="s_1">: </span><span class="s_4">color</span><span class="s_1"> } -- Content</span></span></code></pre></div></div><style>.s_c{--shiki-light:#8A720A;--shiki-dark:#FFF066}</style><p>The compiled code imports a helper for applying the style:</p><div class=code-block><div class=filename>compiled-template.js</div><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_2">import</span><span class="s_1"> { </span><span class="s_4">_attr_style_item</span><span class="s_1"> } </span><span class="s_2">from</span><span class="s_c"> "marko/dom"</span><span class="s_1">;</span></span>
<span class="line"></span>
<span class="line"><span class="s_0">// ...rest of compiled output</span></span></code></pre></div><p>Templates only import the helpers they use, and bundlers tree-shake the rest. This means if a Marko feature isn&#39;t used in an app, no code for it is included in the bundle.</p></section><section id=compile-time-reactivity><h2><a href=#compile-time-reactivity>Compile-Time Reactivity</a></h2><p>Reactivity analysis happens entirely at compile time:</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_1">&#x3C;</span><span class="s_3">let</span><span class="s_1">/</span><span class="s_4">count=</span><span class="s_b">0</span><span class="s_1">></span></span>
<span class="line"><span class="s_1">&#x3C;</span><span class="s_3">const</span><span class="s_1">/</span><span class="s_4">doubled=count</span><span class="s_2"> *</span><span class="s_b"> 2</span><span class="s_1">></span></span>
<span class="line"></span>
<span class="line"><span class="s_1">&#x3C;</span><span class="s_2">button</span><span class="s_a"> onClick</span><span class="s_1">() { </span><span class="s_4">count</span><span class="s_2">++</span><span class="s_1"> }></span></span>
<span class="line"><span class="s_3">  ${</span><span class="s_4">count</span><span class="s_3">}</span><span class="s_1"> × 2 = </span><span class="s_3">${</span><span class="s_4">doubled</span><span class="s_3">}</span></span>
<span class="line"><span class="s_1">&#x3C;/</span><span class="s_2">button</span><span class="s_1">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_3">let</span><span class="s_1">/</span><span class="s_4">count=</span><span class="s_b">0</span></span>
<span class="line"><span class="s_3">const</span><span class="s_1">/</span><span class="s_4">doubled=count</span><span class="s_2"> *</span><span class="s_b"> 2</span></span>
<span class="line"></span>
<span class="line"><span class="s_2">button</span><span class="s_a"> onClick</span><span class="s_1">() { </span><span class="s_4">count</span><span class="s_2">++</span><span class="s_1"> } -- </span><span class="s_3">${</span><span class="s_4">count</span><span class="s_3">}</span><span class="s_1"> × 2 = </span><span class="s_3">${</span><span class="s_4">doubled</span><span class="s_3">}</span></span></code></pre></div></div><p>Before generating runtime code, the compiler determines that <code>count</code> is mutable state, <code>doubled</code> depends on <code>count</code>, and the text nodes in the button depend on <code>count</code> and <code>doubled</code>. When <code>count</code> changes, the runtime executes a pre-computed sequence: recalculate <code>doubled</code>, and update two text nodes inside the button. No dependency tracking happens at runtime.</p></section><section id=what-is-a-fast-framework><h2><a href=#what-is-a-fast-framework>What is a Fast Framework?</a></h2><p>A fast framework needs more than performance optimizations. The wins in this page mean little if developers write inefficient code or create request waterfalls. A truly fast framework provides a language design that guides developers toward efficient patterns by default.</p><p>Marko is a performance <a href="https://blog.codinghorror.com/falling-into-the-pit-of-success/">pit of success</a>. HTML streaming is built in and works naturally with async operations, static content remains static without manual optimization, and reactivity happens at compile time. The framework handles these concerns automatically when developers write straightforward component code.</p><p>Over 12 years of development, Marko has accumulated lessons about what matters for real-world performance and evolved accordingly. These architectural decisions, combined with hundreds of smaller optimizations, make Marko the fastest SSR framework with the smallest client bundles and an effective tool for building efficient websites.</p></section><section id=further-reading><h2><a href=#further-reading>Further Reading</a></h2><ul><li><a href=../introduction/why-marko>Why Marko?</a></li><li><a href=./targeted-compilation>Targeted Compilation</a></li><li><a href=./fine-grained-bundling>Fine-Grained Bundling</a></li><li><a href=./streaming>HTML Streaming</a></li></ul></section><hr><section id=_dk><h2 id=contributors><a href=#contributors>Contributors</a></h2><p>Helpful? You can thank these awesome people! You can also edit this doc if you see any issues or want to improve it.</p><script>(e=>(self[e]||(self[e]=(l,f=e+l,s=f.length,a={},d=[],t=document,n=t.createTreeWalker(t,129))=>t=self[e][l]={i:f,d:t,l:a,v:d,x(){},w(e,l,r){for(;e=n.nextNode();)t.x(l=(l=e.data)&&!l.indexOf(f)&&(a[r=l.slice(s+1)]=e,l[s]),r,e),l>"#"&&d.push(e)}}),self[e]))("M")("_");M._.r=[_=>(_.g=[{params:{},url:new URL("http://localhost/docs/explanation/why-is-marko-fast")},4,{e:!1},_.h={b:8,e:10,ag:!1,ah:!1,a:_.a={d:"concise-mode"},d:_.b={d:"ts-mode"},ad:_.c={Fd:0,k:_.d={"aria-label":"Toggle Concise mode",checked:!1}},ae:_.e={Fd:0,k:_.f={"aria-label":"Toggle TS mode",checked:!1}}},_.a,1,_.b,57,_.c,{f:{},h:576,i:512},1,_.e,{f:{},h:576,i:512},30,{f:"targeted-compilation"},2,{f:"server-compilation"},{f:"client-compilation"},{f:"html-streaming"},{f:"js-scales-from-zero"},2,{f:"fine-grained-bundling"},{f:"resumability"},{f:"tree-shakeable-runtime"},{f:"compile-time-reactivity"},{f:"what-is-a-fast-framework"},{f:"further-reading"}],_.a.U=_._.e0(_.a),_.a.T=_._.p2(_.h),_.b.U=_._.e0(_.b),_.b.T=_._.p3(_.h),_.c.Ed=_.d.checkedChange=_._.p0(_.h),_.e.Ed=_.f.checkedChange=_._.p1(_.h),_.g),"h0 4 o0 5 o1 5 e1 7 9 c0 68 r0 67 c0 71 r0 70 p33 6 p34 6 p35 6"];M._.w()</script><ul><li><a href=https://github.com/LuLaValva><img src=https://avatars.githubusercontent.com/u/26027232?v=4 alt>LuLaValva</a></li><li><a href=https://github.com/marko-js/website-next/blob/main/docs/explanation/why-is-marko-fast.md><div><svg viewBox="0 0 448 512"><path d="M256 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 160-160 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l160 0 0 160c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160 160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-160 0 0-160z"></path></svg><!--M_*121 a--></div>You?</a></li></ul></section></article><div class=_dc id=page-menu><nav aria-labelledby=sM_1 class=_dd id=_di><ul><li><strong id=sM_1>On this Page</strong></li><li><a href=#targeted-compilation>Targeted Compilation</a><!--M_*102 a--><ul><li><a href=#server-compilation>Server Compilation</a><!--M_*105 a--></li><li><a href=#client-compilation>Client Compilation</a><!--M_*106 a--></li></ul></li><li><a href=#html-streaming>HTML Streaming</a><!--M_*107 a--></li><li><a href=#js-scales-from-zero>JS Scales from Zero</a><!--M_*108 a--><ul><li><a href=#fine-grained-bundling>Fine-Grained Bundling</a><!--M_*111 a--></li><li><a href=#resumability>Resumability</a><!--M_*112 a--></li></ul></li><li><a href=#tree-shakeable-runtime>Tree-Shakeable Runtime</a><!--M_*113 a--></li><li><a href=#compile-time-reactivity>Compile-Time Reactivity</a><!--M_*114 a--></li><li><a href=#what-is-a-fast-framework>What is a Fast Framework?</a><!--M_*115 a--></li><li><a href=#further-reading>Further Reading</a><!--M_*116 a--></li></ul></nav></div></main></div><footer id=_a><a href="https://openjsf.org/" class=_b><img src=/assets/openjsf-u4IcyPV8.svg alt> <span><span class=_e>OpenJS&nbsp;</span><span class=_f>Foundation</span></span></a><div class=_g></div><a href=https://github.com/marko-js/marko/blob/main/LICENSE class=_d><img src=/assets/osi-BEF6Mbrt.svg alt> MIT&nbsp;License</a><div class=_g></div><a href=https://github.com/eBay class=_c><img src=/assets/ebay-CSr9mcj_.svg alt=eBay> open&nbsp;source</a></footer><script>M._.r.push(_=>(_.i=[4,{f:{},h:448,i:512}]),"c0 121 k0 105 106 102 107 111 112 108 113 114 115 116");M._.w()</script></body></html>