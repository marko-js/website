<!DOCTYPE html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width, initial-scale=1.0"><meta name=description content="The Marko programming language"><title>Why Marko? | Marko</title><link rel=icon sizes=32x32 href=/fav.png><link rel=icon type=image/svg+xml href=/fav.svg><link rel=preconnect href=https://GB0QQV5RQM-dsn.algolia.net crossorigin><script async type="module" crossorigin src="/assets/route.marko-oOWOArZp.js"></script><link rel="modulepreload" crossorigin href="/assets/_DxajJB0k.js"><link rel="modulepreload" crossorigin href="/assets/_b_ddfY4l.js"><link rel="modulepreload" crossorigin href="/assets/_pD8Fc4yi.js"><link rel="stylesheet" crossorigin href="/assets/_layout-BiVG_P_g.css"><link rel="stylesheet" crossorigin href="/assets/_layout-Cm693SGu.css"><link rel="stylesheet" crossorigin href="/assets/app-code-block-rYAtLWqr.css"></head><body><div id=root><header id=header><a title=Home href="/" id=_cA><picture><source srcset=/logo.svg#dark media=(prefers-color-scheme:dark)><img alt="Marko Logo" src=/logo.svg></picture></a><div class=_cy><a href=/docs>Docs</a><a href=/playground>Playground</a><a href=https://github.com/marko-js/marko>GitHub</a></div><button aria-pressed=false aria-label="Show menu" id=_cz></button><!--M_*6 2--><div id=_cB><button disabled aria-hidden=true></button></div><!--M_*6 3--></header><main><script>document.documentElement.classList.toggle("concise-mode",localStorage.getItem("concise-mode")==='true');</script><script>document.documentElement.classList.toggle("ts-mode",localStorage.getItem("ts-mode")==='true');</script><div class=_cW id=site-menu><nav class=_cX id=_cY><ul><li><strong>Introduction</strong><ul><li><a href=/docs/introduction/getting-started><!--M_[-->Getting Started<!--M_]12 1 13--></a><!--M_*12 0--></li><li><a href=/docs/introduction/welcome-to-marko><!--M_[-->Welcome to Marko!<!--M_]14 1 15--></a><!--M_*14 0--></li><li><a href=/docs/introduction/installation><!--M_[-->Installation<!--M_]16 1 17--></a><!--M_*16 0--></li><li><a href=/docs/introduction/why-marko aria-current=true><!--M_[-->Why Marko?<!--M_]18 1 19--></a><!--M_*18 0--></li><li><a href=/docs/introduction/integrations><!--M_[-->Integrations<!--M_]20 1 21--></a><!--M_*20 0--></li></ul></li><li><strong>Tutorials</strong><ul><li><a href=/docs/tutorial/fundamentals><!--M_[-->Fundamentals<!--M_]22 1 23--></a><!--M_*22 0--></li><li><a href=/docs/tutorial/components-and-reactivity><!--M_[-->Components and Reactivity<!--M_]24 1 25--></a><!--M_*24 0--></li></ul></li><li><strong>Guides</strong><ul><li><a href=/docs/guide/styling><!--M_[-->Styling<!--M_]26 1 27--></a><!--M_*26 0--></li><li><a href=/docs/guide/low-level-apis><!--M_[-->Low-Level APIs<!--M_]28 1 29--></a><!--M_*28 0--></li><li><a href=/docs/guide/library-integration><!--M_[-->Library Integration<!--M_]30 1 31--></a><!--M_*30 0--></li><li><a href=/docs/guide/marko-5-interop><!--M_[-->Marko 5 Interop<!--M_]32 1 33--></a><!--M_*32 0--></li></ul></li><li><strong>Explanation</strong><ul><li><a href=/docs/explanation/streaming><!--M_[-->Streaming<!--M_]34 1 35--></a><!--M_*34 0--></li><li><a href=/docs/explanation/targeted-compilation><!--M_[-->Targeted Compilation<!--M_]36 1 37--></a><!--M_*36 0--></li><li><a href=/docs/explanation/fine-grained-bundling><!--M_[-->Fine-Grained Bundling<!--M_]38 1 39--></a><!--M_*38 0--></li><li><a href=/docs/explanation/separation-of-concerns><!--M_[-->Separation of Concerns<!--M_]40 1 41--></a><!--M_*40 0--></li><li><a href=/docs/explanation/controllable-components><!--M_[-->Controllable Components<!--M_]42 1 43--></a><!--M_*42 0--></li><li><a href=/docs/explanation/nested-reactivity><!--M_[-->Nested Reactivity<!--M_]44 1 45--></a><!--M_*44 0--></li><li><a href=/docs/explanation/immutable-state><!--M_[-->Immutable State<!--M_]46 1 47--></a><!--M_*46 0--></li><li><a href=/docs/explanation/serializable-state><!--M_[-->Serializable State<!--M_]48 1 49--></a><!--M_*48 0--></li></ul></li><li><strong>Reference</strong><ul><li><a href=/docs/reference/language><!--M_[-->Language<!--M_]50 1 51--></a><!--M_*50 0--></li><li><a href=/docs/reference/custom-tag><!--M_[-->Custom Tags<!--M_]52 1 53--></a><!--M_*52 0--></li><li><a href=/docs/reference/reactivity><!--M_[-->Reactivity<!--M_]54 1 55--></a><!--M_*54 0--></li><li><a href=/docs/reference/core-tag><!--M_[-->Core Tags<!--M_]56 1 57--></a><!--M_*56 0--></li><li><a href=/docs/reference/native-tag><!--M_[-->Native Tags<!--M_]58 1 59--></a><!--M_*58 0--></li><li><a href=/docs/reference/concise-syntax><!--M_[-->Concise Syntax<!--M_]60 1 61--></a><!--M_*60 0--></li><li><a href=/docs/reference/template><!--M_[-->Template API<!--M_]62 1 63--></a><!--M_*62 0--></li><li><a href=/docs/reference/typescript><!--M_[-->TypeScript<!--M_]64 1 65--></a><!--M_*64 0--></li></ul></li><li><strong>Marko Run</strong><ul><li><a href=/docs/marko-run/getting-started><!--M_[-->Getting Started<!--M_]66 1 67--></a><!--M_*66 0--></li><li><a href=/docs/marko-run/file-based-routing><!--M_[-->File-based Routing<!--M_]68 1 69--></a><!--M_*68 0--></li><li><a href=/docs/marko-run/typescript><!--M_[-->TypeScript<!--M_]70 1 71--></a><!--M_*70 0--></li></ul></li></ul></nav><div id=_c0><label class=_c1>Version&nbsp;<select><option value selected>6.x</option><option value=https://v5.markojs.com/docs/getting-started>5.x</option><option value="http://marko-v4.github.io/docs/">4.x</option><option value="http://v3.markojs.com/docs/">3.x</option><option value="http://marko-v2.github.io/docs/">2.x</option></select><!--M_*7 40--></label><label class=_p><span>HTML<!--M_*72 1--></span><span class=_o><input type=checkbox aria-label="Toggle Concise mode"><!--M_*72 3--><svg viewBox="0 0 576 512"><path d="M384 128c70.7 0 128 57.3 128 128S454.7 384 384 384l-192 0c-70.7 0-128-57.3-128-128s57.3-128 128-128l192 0zM576 256c0-106-86-192-192-192L192 64C86 64 0 150 0 256S86 448 192 448l192 0c106 0 192-86 192-192zM192 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"></path></svg><!--M_*73 0--></span><span>Concise<!--M_*72 5--></span></label><label class=_p><span>JS<!--M_*75 1--></span><span class=_o><input type=checkbox aria-label="Toggle TS mode"><!--M_*75 3--><svg viewBox="0 0 576 512"><path d="M384 128c70.7 0 128 57.3 128 128S454.7 384 384 384l-192 0c-70.7 0-128-57.3-128-128s57.3-128 128-128l192 0zM576 256c0-106-86-192-192-192L192 64C86 64 0 150 0 256S86 448 192 448l192 0c106 0 192-86 192-192zM192 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"></path></svg><!--M_*76 0--></span><span>TS<!--M_*75 5--></span></label></div></div><article id=_c3><h1 id=why-marko>Why Marko?</h1><p>Marko delivers fast, scalable, robust, and maintainable applications without sacrificing developer experience or user performance. It addresses three fundamental problems in web development by evolving HTML itself rather than replacing it with JavaScript abstractions.</p><section id=three-problems><h2><a href=#three-problems>Three Problems</a></h2><p>Modern web development faces a series of interconnected challenges that have shaped the evolution of frontend frameworks. Understanding these problems is essential to evaluating whether current solutions have overcorrected and created new issues.</p><section id=html-cant-scale><h3><a href=#html-cant-scale>HTML Can&#39;t Scale</a></h3><p>HTML was designed for static documents, not dynamic applications. This fundamental limitation creates several cascading problems as applications grow in complexity.</p><p>HTML provides no mechanism for coordinating dynamic state across different parts of an application. Consider a shopping cart page:</p><div class=code-block><div class=filename>index.html</div><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;!</span><span class="s_1">DOCTYPE</span><span class="s_2"> html</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">html</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">head</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  &#x3C;</span><span class="s_1">title</span><span class="s_0">>My Store&#x3C;/</span><span class="s_1">title</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  &#x3C;</span><span class="s_1">script</span><span class="s_2"> src</span><span class="s_0">=</span><span class="s_3">"script.js"</span><span class="s_0">>&#x3C;/</span><span class="s_1">script</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">head</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">body</span><span class="s_0">></span></span>
<span class="line"><span class="s_4">  &#x3C;!-- Navigation with cart badge --></span></span>
<span class="line"><span class="s_0">  &#x3C;</span><span class="s_1">nav</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">    &#x3C;</span><span class="s_1">span</span><span class="s_0">>Cart (&#x3C;</span><span class="s_1">span</span><span class="s_2"> id</span><span class="s_0">=</span><span class="s_3">"nav-count"</span><span class="s_0">>0&#x3C;/</span><span class="s_1">span</span><span class="s_0">>)&#x3C;/</span><span class="s_1">span</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  &#x3C;/</span><span class="s_1">nav</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  </span></span>
<span class="line"><span class="s_4">  &#x3C;!-- Product list --></span></span>
<span class="line"><span class="s_0">  &#x3C;</span><span class="s_1">div</span><span class="s_2"> class</span><span class="s_0">=</span><span class="s_3">"products"</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">    &#x3C;</span><span class="s_1">button</span><span class="s_2"> onclick</span><span class="s_0">=</span><span class="s_3">"</span><span class="s_5">addItem</span><span class="s_3">('Widget', </span><span class="s_6">10</span><span class="s_3">)"</span><span class="s_0">></span><span class="s_2">Add</span><span class="s_2"> Widget</span><span class="s_2"> -</span><span class="s_2"> $10</span><span class="s_7">&#x3C;/button</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">    &#x3C;</span><span class="s_1">button</span><span class="s_2"> onclick</span><span class="s_0">=</span><span class="s_3">"</span><span class="s_5">addItem</span><span class="s_3">('Gadget', </span><span class="s_6">15</span><span class="s_3">)"</span><span class="s_0">></span><span class="s_2">Add</span><span class="s_2"> Gadget</span><span class="s_2"> -</span><span class="s_2"> $15</span><span class="s_7">&#x3C;/button</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  &#x3C;/</span><span class="s_1">div</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  </span></span>
<span class="line"><span class="s_4">  &#x3C;!-- Cart summary --></span></span>
<span class="line"><span class="s_0">  &#x3C;</span><span class="s_1">div</span><span class="s_2"> id</span><span class="s_0">=</span><span class="s_3">"cart"</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">    &#x3C;</span><span class="s_1">p</span><span class="s_0">>Items: &#x3C;</span><span class="s_1">span</span><span class="s_2"> id</span><span class="s_0">=</span><span class="s_3">"cart-count"</span><span class="s_0">>0&#x3C;/</span><span class="s_1">span</span><span class="s_0">>&#x3C;/</span><span class="s_1">p</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">    &#x3C;</span><span class="s_1">p</span><span class="s_0">>Total: $&#x3C;</span><span class="s_1">span</span><span class="s_2"> id</span><span class="s_0">=</span><span class="s_3">"cart-total"</span><span class="s_0">>0&#x3C;/</span><span class="s_1">span</span><span class="s_0">>&#x3C;/</span><span class="s_1">p</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  &#x3C;/</span><span class="s_1">div</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  </span></span>
<span class="line"><span class="s_4">  &#x3C;!-- Maybe also a checkout button that should be disabled when empty --></span></span>
<span class="line"><span class="s_0">  &#x3C;</span><span class="s_1">button</span><span class="s_2"> id</span><span class="s_0">=</span><span class="s_3">"checkout"</span><span class="s_2"> disabled</span><span class="s_0">>Checkout&#x3C;/</span><span class="s_1">button</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">body</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">html</span><span class="s_0">></span></span></code></pre></div><style>.s_0{--shiki-light:#202124;--shiki-dark:#FFF}.s_1{--shiki-light:#D91880;--shiki-dark:#FF4185}.s_2{--shiki-light:#46821C;--shiki-dark:#A6E22E}.s_3{--shiki-light:#8A720A;--shiki-dark:#FFF066}.s_4{--shiki-light:#73738C;--shiki-dark:#8F8F9E}.s_5{--shiki-light:#1D8649;--shiki-dark:#7FFF00}.s_6{--shiki-light:#7C4DFF;--shiki-dark:#AE81FF}.s_7{--shiki-light:#202124;--shiki-dark:#F8F8F0}.s_8{--shiki-light:#202124;--shiki-dark:#FFF;--shiki-light-bg:#00000000;--shiki-dark-bg:#00000000}</style><div class=code-block><div class=filename>script.js</div><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_9">function</span><span class="s_5"> addItem</span><span class="s_0">(</span><span class="s_a">name</span><span class="s_0">, </span><span class="s_a">price</span><span class="s_0">) {</span></span>
<span class="line"><span class="s_4">  // Update navigation badge</span></span>
<span class="line"><span class="s_9">  const</span><span class="s_b"> navCount</span><span class="s_b"> =</span><span class="s_b"> document</span><span class="s_0">.</span><span class="s_5">getElementById</span><span class="s_0">(</span><span class="s_3">'nav-count'</span><span class="s_0">);</span></span>
<span class="line"><span class="s_9">  const</span><span class="s_b"> newNavCount</span><span class="s_b"> =</span><span class="s_5"> parseInt</span><span class="s_0">(</span><span class="s_b">navCount</span><span class="s_0">.</span><span class="s_b">textContent</span><span class="s_0">) </span><span class="s_1">+</span><span class="s_6"> 1</span><span class="s_0">;</span></span>
<span class="line"><span class="s_b">  navCount</span><span class="s_0">.</span><span class="s_b">textContent</span><span class="s_b"> =</span><span class="s_b"> newNavCount</span><span class="s_0">;</span></span>
<span class="line"><span class="s_0">  </span></span>
<span class="line"><span class="s_4">  // Update cart summary</span></span>
<span class="line"><span class="s_9">  const</span><span class="s_b"> cartCount</span><span class="s_b"> =</span><span class="s_b"> document</span><span class="s_0">.</span><span class="s_5">getElementById</span><span class="s_0">(</span><span class="s_3">'cart-count'</span><span class="s_0">);</span></span>
<span class="line"><span class="s_9">  const</span><span class="s_b"> cartTotal</span><span class="s_b"> =</span><span class="s_b"> document</span><span class="s_0">.</span><span class="s_5">getElementById</span><span class="s_0">(</span><span class="s_3">'cart-total'</span><span class="s_0">);</span></span>
<span class="line"><span class="s_0">  </span></span>
<span class="line"><span class="s_b">  cartCount</span><span class="s_0">.</span><span class="s_b">textContent</span><span class="s_b"> =</span><span class="s_b"> newNavCount</span><span class="s_0">;</span></span>
<span class="line"><span class="s_b">  cartTotal</span><span class="s_0">.</span><span class="s_b">textContent</span><span class="s_b"> =</span><span class="s_5"> parseFloat</span><span class="s_0">(</span><span class="s_b">cartTotal</span><span class="s_0">.</span><span class="s_b">textContent</span><span class="s_0">) </span><span class="s_1">+</span><span class="s_b"> price</span><span class="s_0">;</span></span>
<span class="line"><span class="s_0">  </span></span>
<span class="line"><span class="s_4">  // Enable checkout button if it was disabled</span></span>
<span class="line"><span class="s_9">  const</span><span class="s_b"> checkout</span><span class="s_b"> =</span><span class="s_b"> document</span><span class="s_0">.</span><span class="s_5">getElementById</span><span class="s_0">(</span><span class="s_3">'checkout'</span><span class="s_0">);</span></span>
<span class="line"><span class="s_1">  if</span><span class="s_0"> (</span><span class="s_b">newNavCount</span><span class="s_1"> ></span><span class="s_6"> 0</span><span class="s_0">) {</span></span>
<span class="line"><span class="s_b">    checkout</span><span class="s_0">.</span><span class="s_b">disabled</span><span class="s_b"> =</span><span class="s_6"> false</span><span class="s_0">;</span></span>
<span class="line"><span class="s_0">  }</span></span>
<span class="line"><span class="s_0">  </span></span>
<span class="line"><span class="s_4">  // Any other UI that depends on cart state also needs manual updates...</span></span>
<span class="line"><span class="s_0">}</span></span></code></pre></div><style>.s_9{--shiki-light:#0D7BBF;--shiki-light-font-style:italic;--shiki-dark:#5BD7FF;--shiki-dark-font-style:italic}.s_a{--shiki-light:#B05C1C;--shiki-light-font-style:italic;--shiki-dark:#FFB86C;--shiki-dark-font-style:italic}.s_b{--shiki-light:#202124;--shiki-dark:#FFFFFF}</style><p>Every state change requires manual coordination across multiple DOM elements. The function must update the navigation badge, cart summary, and checkout button state independently. Each UI element that depends on cart state needs explicit updates, and as applications grow, this coordination becomes exponentially complex.</p><p>Componentization presents another challenge. Modern platform features like custom elements and <code>&lt;template></code> tags provide some encapsulation, but introduce their own complexity:</p><div class=code-block><div class=filename>modal-dialog.js</div><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_9">class</span><span class="s_0"> ModalDialog </span><span class="s_c">extends</span><span class="s_d"> HTMLElement</span><span class="s_0"> {</span></span>
<span class="line"><span class="s_9">  constructor</span><span class="s_0">() {</span></span>
<span class="line"><span class="s_b">    super</span><span class="s_0">();</span></span>
<span class="line"><span class="s_b">    this</span><span class="s_0">.</span><span class="s_5">attachShadow</span><span class="s_0">({ mode: </span><span class="s_3">'open'</span><span class="s_0"> });</span></span>
<span class="line"><span class="s_b">    this</span><span class="s_0">.</span><span class="s_b">shadowRoot</span><span class="s_0">.</span><span class="s_b">innerHTML</span><span class="s_b"> =</span><span class="s_3"> `</span></span>
<span class="line"><span class="s_3">      &#x3C;div class="modal hidden"></span></span>
<span class="line"><span class="s_3">        &#x3C;div class="modal-content"></span></span>
<span class="line"><span class="s_3">          &#x3C;button id="close">×&#x3C;/button></span></span>
<span class="line"><span class="s_3">          &#x3C;slot>&#x3C;/slot></span></span>
<span class="line"><span class="s_3">        &#x3C;/div></span></span>
<span class="line"><span class="s_3">      &#x3C;/div></span></span>
<span class="line"><span class="s_3">    `</span><span class="s_0">;</span></span>
<span class="line"><span class="s_0">    </span></span>
<span class="line"><span class="s_b">    this</span><span class="s_0">.</span><span class="s_b">modal</span><span class="s_b"> =</span><span class="s_b"> this</span><span class="s_0">.</span><span class="s_b">shadowRoot</span><span class="s_0">.</span><span class="s_5">querySelector</span><span class="s_0">(</span><span class="s_3">'.modal'</span><span class="s_0">);</span></span>
<span class="line"><span class="s_b">    this</span><span class="s_0">.</span><span class="s_b">shadowRoot</span><span class="s_0">.</span><span class="s_5">querySelector</span><span class="s_0">(</span><span class="s_3">'#close'</span><span class="s_0">).</span><span class="s_5">onclick</span><span class="s_b"> =</span><span class="s_0"> () </span><span class="s_9">=></span><span class="s_b"> this</span><span class="s_0">.</span><span class="s_5">close</span><span class="s_0">();</span></span>
<span class="line"><span class="s_0">  }</span></span>
<span class="line"><span class="s_0">  </span></span>
<span class="line"><span class="s_5">  open</span><span class="s_0">() { </span><span class="s_b">this</span><span class="s_0">.</span><span class="s_b">modal</span><span class="s_0">.</span><span class="s_b">classList</span><span class="s_0">.</span><span class="s_5">remove</span><span class="s_0">(</span><span class="s_3">'hidden'</span><span class="s_0">); }</span></span>
<span class="line"><span class="s_5">  close</span><span class="s_0">() { </span><span class="s_b">this</span><span class="s_0">.</span><span class="s_b">modal</span><span class="s_0">.</span><span class="s_b">classList</span><span class="s_0">.</span><span class="s_5">add</span><span class="s_0">(</span><span class="s_3">'hidden'</span><span class="s_0">); }</span></span>
<span class="line"><span class="s_0">}</span></span>
<span class="line"></span>
<span class="line"><span class="s_b">customElements</span><span class="s_0">.</span><span class="s_5">define</span><span class="s_0">(</span><span class="s_3">'modal-dialog'</span><span class="s_0">, </span><span class="s_b">ModalDialog</span><span class="s_0">);</span></span></code></pre></div><style>.s_c{--shiki-light:#D91880;--shiki-dark:#FF4D8F}.s_d{--shiki-light:#46821C;--shiki-light-font-style:italic;--shiki-light-text-decoration:underline;--shiki-dark:#A6E22E;--shiki-dark-font-style:italic;--shiki-dark-text-decoration:underline}</style><div class=code-block><div class=filename>index.html</div><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_1">button</span><span class="s_2"> onclick</span><span class="s_0">=</span><span class="s_3">"</span><span class="s_b">nextElementSibling</span><span class="s_3">.</span><span class="s_5">open</span><span class="s_3">()"</span><span class="s_0">></span></span>
<span class="line"><span class="s_2">  Open</span><span class="s_2"> Modal</span></span>
<span class="line"><span class="s_7">&#x3C;/button</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">modal-dialog</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  &#x3C;</span><span class="s_1">p</span><span class="s_0">>Modal content...&#x3C;/</span><span class="s_1">p</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">modal-dialog</span><span class="s_0">></span></span></code></pre></div><p>While this provides encapsulation, it requires significant boilerplate for basic functionality. State management across components still requires manual coordination, and the imperative API (calling <code>.open()</code> and <code>.close()</code>) doesn&#39;t compose well with reactive data flow.</p></section><section id=component-coordination><h3><a href=#component-coordination>Component Coordination</a></h3><p>Building reusable, encapsulated components requires significant boilerplate and manual coordination. Even modern platform features like custom elements impose complexity that grows with application requirements, making component development tedious and error-prone.</p><p>Consider implementing a modal component with custom elements:</p><div class=code-block><div class=filename>modal-dialog.js</div><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_9">class</span><span class="s_0"> ModalDialog </span><span class="s_c">extends</span><span class="s_d"> HTMLElement</span><span class="s_0"> {</span></span>
<span class="line"><span class="s_9">  constructor</span><span class="s_0">() {</span></span>
<span class="line"><span class="s_b">    super</span><span class="s_0">();</span></span>
<span class="line"><span class="s_b">    this</span><span class="s_0">.</span><span class="s_5">attachShadow</span><span class="s_0">({ mode: </span><span class="s_3">'open'</span><span class="s_0"> });</span></span>
<span class="line"><span class="s_b">    this</span><span class="s_0">.</span><span class="s_b">shadowRoot</span><span class="s_0">.</span><span class="s_b">innerHTML</span><span class="s_b"> =</span><span class="s_3"> `</span></span>
<span class="line"><span class="s_3">      &#x3C;div class="modal hidden"></span></span>
<span class="line"><span class="s_3">        &#x3C;div class="modal-content"></span></span>
<span class="line"><span class="s_3">          &#x3C;button id="close">×&#x3C;/button></span></span>
<span class="line"><span class="s_3">          &#x3C;slot>&#x3C;/slot></span></span>
<span class="line"><span class="s_3">        &#x3C;/div></span></span>
<span class="line"><span class="s_3">      &#x3C;/div></span></span>
<span class="line"><span class="s_3">    `</span><span class="s_0">;</span></span>
<span class="line"><span class="s_0">    </span></span>
<span class="line"><span class="s_b">    this</span><span class="s_0">.</span><span class="s_b">modal</span><span class="s_b"> =</span><span class="s_b"> this</span><span class="s_0">.</span><span class="s_b">shadowRoot</span><span class="s_0">.</span><span class="s_5">querySelector</span><span class="s_0">(</span><span class="s_3">'.modal'</span><span class="s_0">);</span></span>
<span class="line"><span class="s_b">    this</span><span class="s_0">.</span><span class="s_b">shadowRoot</span><span class="s_0">.</span><span class="s_5">querySelector</span><span class="s_0">(</span><span class="s_3">'#close'</span><span class="s_0">).</span><span class="s_5">onclick</span><span class="s_b"> =</span><span class="s_0"> () </span><span class="s_9">=></span><span class="s_b"> this</span><span class="s_0">.</span><span class="s_5">close</span><span class="s_0">();</span></span>
<span class="line"><span class="s_0">  }</span></span>
<span class="line"><span class="s_0">  </span></span>
<span class="line"><span class="s_5">  open</span><span class="s_0">() { </span><span class="s_b">this</span><span class="s_0">.</span><span class="s_b">modal</span><span class="s_0">.</span><span class="s_b">classList</span><span class="s_0">.</span><span class="s_5">remove</span><span class="s_0">(</span><span class="s_3">'hidden'</span><span class="s_0">); }</span></span>
<span class="line"><span class="s_5">  close</span><span class="s_0">() { </span><span class="s_b">this</span><span class="s_0">.</span><span class="s_b">modal</span><span class="s_0">.</span><span class="s_b">classList</span><span class="s_0">.</span><span class="s_5">add</span><span class="s_0">(</span><span class="s_3">'hidden'</span><span class="s_0">); }</span></span>
<span class="line"><span class="s_0">}</span></span>
<span class="line"></span>
<span class="line"><span class="s_b">customElements</span><span class="s_0">.</span><span class="s_5">define</span><span class="s_0">(</span><span class="s_3">'modal-dialog'</span><span class="s_0">, </span><span class="s_b">ModalDialog</span><span class="s_0">);</span></span></code></pre></div><div class=code-block><div class=filename>index.html</div><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_4">&#x3C;!-- Usage --></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">button</span><span class="s_2"> onclick</span><span class="s_0">=</span><span class="s_3">"</span><span class="s_b">nextElementSibling</span><span class="s_3">.</span><span class="s_5">open</span><span class="s_3">()"</span><span class="s_0">></span><span class="s_2">Open</span><span class="s_2"> Modal</span><span class="s_7">&#x3C;/button</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">modal-dialog</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  &#x3C;</span><span class="s_1">p</span><span class="s_0">>Modal content...&#x3C;/</span><span class="s_1">p</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">modal-dialog</span><span class="s_0">></span></span></code></pre></div><p>The component provides encapsulation but requires extensive setup code for basic functionality. State management across components still requires manual coordination, and the imperative API (calling <code>.open()</code> and <code>.close()</code>) doesn&#39;t compose well with reactive data flow.</p><p>Component communication becomes increasingly complex. Consider a shopping cart that needs to coordinate between multiple interface elements:</p><div class=code-block><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_4">// Manual coordination across components</span></span>
<span class="line"><span class="s_9">class</span><span class="s_0"> CartManager {</span></span>
<span class="line"><span class="s_9">  constructor</span><span class="s_0">() {</span></span>
<span class="line"><span class="s_b">    this</span><span class="s_0">.</span><span class="s_b">items</span><span class="s_b"> =</span><span class="s_0"> [];</span></span>
<span class="line"><span class="s_b">    this</span><span class="s_0">.</span><span class="s_b">subscribers</span><span class="s_b"> =</span><span class="s_0"> [];</span></span>
<span class="line"><span class="s_0">  }</span></span>
<span class="line"><span class="s_0">  </span></span>
<span class="line"><span class="s_5">  addItem</span><span class="s_0">(</span><span class="s_a">item</span><span class="s_0">) {</span></span>
<span class="line"><span class="s_b">    this</span><span class="s_0">.</span><span class="s_b">items</span><span class="s_0">.</span><span class="s_5">push</span><span class="s_0">(</span><span class="s_b">item</span><span class="s_0">);</span></span>
<span class="line"><span class="s_b">    this</span><span class="s_0">.</span><span class="s_5">notifySubscribers</span><span class="s_0">();</span></span>
<span class="line"><span class="s_0">  }</span></span>
<span class="line"><span class="s_0">  </span></span>
<span class="line"><span class="s_5">  subscribe</span><span class="s_0">(</span><span class="s_a">callback</span><span class="s_0">) {</span></span>
<span class="line"><span class="s_b">    this</span><span class="s_0">.</span><span class="s_b">subscribers</span><span class="s_0">.</span><span class="s_5">push</span><span class="s_0">(</span><span class="s_b">callback</span><span class="s_0">);</span></span>
<span class="line"><span class="s_0">  }</span></span>
<span class="line"><span class="s_0">  </span></span>
<span class="line"><span class="s_5">  notifySubscribers</span><span class="s_0">() {</span></span>
<span class="line"><span class="s_b">    this</span><span class="s_0">.</span><span class="s_b">subscribers</span><span class="s_0">.</span><span class="s_5">forEach</span><span class="s_0">(</span><span class="s_a">callback</span><span class="s_9"> =></span><span class="s_5"> callback</span><span class="s_0">(</span><span class="s_b">this</span><span class="s_0">.</span><span class="s_b">items</span><span class="s_0">));</span></span>
<span class="line"><span class="s_0">  }</span></span>
<span class="line"><span class="s_0">}</span></span>
<span class="line"></span>
<span class="line"><span class="s_4">// Each component needs manual subscription management</span></span>
<span class="line"><span class="s_9">class</span><span class="s_0"> CartBadge </span><span class="s_c">extends</span><span class="s_d"> HTMLElement</span><span class="s_0"> {</span></span>
<span class="line"><span class="s_5">  connectedCallback</span><span class="s_0">() {</span></span>
<span class="line"><span class="s_b">    cartManager</span><span class="s_0">.</span><span class="s_5">subscribe</span><span class="s_0">(</span><span class="s_a">items</span><span class="s_9"> =></span><span class="s_0"> {</span></span>
<span class="line"><span class="s_b">      this</span><span class="s_0">.</span><span class="s_b">textContent</span><span class="s_b"> =</span><span class="s_b"> items</span><span class="s_0">.length;</span></span>
<span class="line"><span class="s_0">    });</span></span>
<span class="line"><span class="s_0">  }</span></span>
<span class="line"><span class="s_0">}</span></span>
<span class="line"></span>
<span class="line"><span class="s_9">class</span><span class="s_0"> CartTotal </span><span class="s_c">extends</span><span class="s_d"> HTMLElement</span><span class="s_0"> {</span></span>
<span class="line"><span class="s_5">  connectedCallback</span><span class="s_0">() {</span></span>
<span class="line"><span class="s_b">    cartManager</span><span class="s_0">.</span><span class="s_5">subscribe</span><span class="s_0">(</span><span class="s_a">items</span><span class="s_9"> =></span><span class="s_0"> {</span></span>
<span class="line"><span class="s_9">      const</span><span class="s_b"> total</span><span class="s_b"> =</span><span class="s_b"> items</span><span class="s_0">.</span><span class="s_5">reduce</span><span class="s_0">((</span><span class="s_a">sum</span><span class="s_0">, </span><span class="s_a">item</span><span class="s_0">) </span><span class="s_9">=></span><span class="s_b"> sum</span><span class="s_1"> +</span><span class="s_b"> item</span><span class="s_0">.</span><span class="s_b">price</span><span class="s_0">, </span><span class="s_6">0</span><span class="s_0">);</span></span>
<span class="line"><span class="s_b">      this</span><span class="s_0">.</span><span class="s_b">textContent</span><span class="s_b"> =</span><span class="s_3"> `$</span><span class="s_e">${</span><span class="s_b">total</span><span class="s_e">}</span><span class="s_3">`</span><span class="s_0">;</span></span>
<span class="line"><span class="s_0">    });</span></span>
<span class="line"><span class="s_0">  }</span></span>
<span class="line"><span class="s_0">}</span></span></code></pre></div><style>.s_e{--shiki-light:#0D7BBF;--shiki-dark:#66D9EF}</style><p>Every component requiring cart data must manually subscribe to updates, handle cleanup, and coordinate its own state. Adding features like quantity management, discounts, or persistence requires touching multiple components and maintaining manual synchronization. The coordination overhead grows exponentially with application complexity.</p></section><section id=runtime-burden><h3><a href=#runtime-burden>Runtime Burden</a></h3><p>Development decisions impose ongoing costs on users rather than developers. Work that could happen once during the build process gets repeated millions of times across user sessions, creating unnecessary overhead that accumulates as applications scale.</p><p>Consider template parsing across user sessions. Every user&#39;s browser repeats identical analysis:</p><div class=code-block><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_4">// This analysis happens for every user, every session</span></span>
<span class="line"><span class="s_9">function</span><span class="s_5"> processTemplate</span><span class="s_0">(</span><span class="s_a">template</span><span class="s_0">) {</span></span>
<span class="line"><span class="s_4">  // Parse component structure</span></span>
<span class="line"><span class="s_9">  const</span><span class="s_b"> ast</span><span class="s_b"> =</span><span class="s_5"> parseTemplate</span><span class="s_0">(</span><span class="s_b">template</span><span class="s_0">);</span></span>
<span class="line"><span class="s_0">  </span></span>
<span class="line"><span class="s_4">  // Identify dynamic parts</span></span>
<span class="line"><span class="s_9">  const</span><span class="s_b"> dynamicNodes</span><span class="s_b"> =</span><span class="s_5"> findDynamicNodes</span><span class="s_0">(</span><span class="s_b">ast</span><span class="s_0">);</span></span>
<span class="line"><span class="s_0">  </span></span>
<span class="line"><span class="s_4">  // Build dependency graph</span></span>
<span class="line"><span class="s_9">  const</span><span class="s_b"> dependencies</span><span class="s_b"> =</span><span class="s_5"> analyzeDependencies</span><span class="s_0">(</span><span class="s_b">dynamicNodes</span><span class="s_0">);</span></span>
<span class="line"><span class="s_0">  </span></span>
<span class="line"><span class="s_4">  // Generate update strategies</span></span>
<span class="line"><span class="s_9">  const</span><span class="s_b"> updatePlan</span><span class="s_b"> =</span><span class="s_5"> createUpdatePlan</span><span class="s_0">(</span><span class="s_b">dependencies</span><span class="s_0">);</span></span>
<span class="line"><span class="s_0">  </span></span>
<span class="line"><span class="s_1">  return</span><span class="s_0"> { </span><span class="s_b">ast</span><span class="s_0">, </span><span class="s_b">dynamicNodes</span><span class="s_0">, </span><span class="s_b">dependencies</span><span class="s_0">, </span><span class="s_b">updatePlan</span><span class="s_0"> };</span></span>
<span class="line"><span class="s_0">}</span></span>
<span class="line"></span>
<span class="line"><span class="s_4">// Identical analysis repeated across millions of users</span></span>
<span class="line"><span class="s_9">const</span><span class="s_b"> userSession1</span><span class="s_b"> =</span><span class="s_5"> processTemplate</span><span class="s_0">(</span><span class="s_b">blogTemplate</span><span class="s_0">); </span><span class="s_4">// Same result</span></span>
<span class="line"><span class="s_9">const</span><span class="s_b"> userSession2</span><span class="s_b"> =</span><span class="s_5"> processTemplate</span><span class="s_0">(</span><span class="s_b">blogTemplate</span><span class="s_0">); </span><span class="s_4">// Same result</span></span>
<span class="line"><span class="s_9">const</span><span class="s_b"> userSession3</span><span class="s_b"> =</span><span class="s_5"> processTemplate</span><span class="s_0">(</span><span class="s_b">blogTemplate</span><span class="s_0">); </span><span class="s_4">// Same result</span></span></code></pre></div><p>This analysis produces identical results for every user because the template structure is static. The parsing logic, dependency relationships, and update strategies remain constant, yet each browser performs this work independently.</p><p>Component optimization demonstrates the burden clearly. Simple implementations create ongoing costs, while optimized versions require extensive coordination:</p><div class=code-block><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_4">// Creates burden: every render recalculates everything</span></span>
<span class="line"><span class="s_9">class</span><span class="s_0"> ProductList </span><span class="s_c">extends</span><span class="s_d"> Component</span><span class="s_0"> {</span></span>
<span class="line"><span class="s_5">  render</span><span class="s_0">() {</span></span>
<span class="line"><span class="s_9">    const</span><span class="s_b"> sortedProducts</span><span class="s_b"> =</span><span class="s_b"> this</span><span class="s_0">.</span><span class="s_b">props</span><span class="s_0">.</span><span class="s_b">products</span></span>
<span class="line"><span class="s_0">      .</span><span class="s_5">sort</span><span class="s_0">((</span><span class="s_a">a</span><span class="s_0">, </span><span class="s_a">b</span><span class="s_0">) </span><span class="s_9">=></span><span class="s_b"> a</span><span class="s_0">.</span><span class="s_b">price</span><span class="s_1"> -</span><span class="s_b"> b</span><span class="s_0">.</span><span class="s_b">price</span><span class="s_0">)  </span><span class="s_4">// Repeated calculation</span></span>
<span class="line"><span class="s_0">      .</span><span class="s_5">filter</span><span class="s_0">(</span><span class="s_a">p</span><span class="s_9"> =></span><span class="s_b"> p</span><span class="s_0">.</span><span class="s_b">inStock</span><span class="s_0">);            </span><span class="s_4">// Repeated filtering</span></span>
<span class="line"><span class="s_0">    </span></span>
<span class="line"><span class="s_1">    return</span><span class="s_b"> sortedProducts</span><span class="s_0">.</span><span class="s_5">map</span><span class="s_0">(</span><span class="s_a">product</span><span class="s_9"> =></span><span class="s_4">   // Repeated mapping</span></span>
<span class="line"><span class="s_3">      `&#x3C;div class="product"></span><span class="s_e">${</span><span class="s_b">product</span><span class="s_3">.</span><span class="s_b">name</span><span class="s_e">}</span><span class="s_3">: $</span><span class="s_e">${</span><span class="s_b">product</span><span class="s_3">.</span><span class="s_b">price</span><span class="s_e">}</span><span class="s_3">&#x3C;/div>`</span></span>
<span class="line"><span class="s_0">    ).</span><span class="s_5">join</span><span class="s_0">(</span><span class="s_3">''</span><span class="s_0">);</span></span>
<span class="line"><span class="s_0">  }</span></span>
<span class="line"><span class="s_0">}</span></span>
<span class="line"></span>
<span class="line"><span class="s_4">// Reduces burden: pre-computed, cached, code-split</span></span>
<span class="line"><span class="s_9">class</span><span class="s_0"> OptimizedProductList </span><span class="s_c">extends</span><span class="s_d"> Component</span><span class="s_0"> {</span></span>
<span class="line"><span class="s_9">  constructor</span><span class="s_0">(</span><span class="s_a">props</span><span class="s_0">) {</span></span>
<span class="line"><span class="s_b">    super</span><span class="s_0">(</span><span class="s_b">props</span><span class="s_0">);</span></span>
<span class="line"><span class="s_b">    this</span><span class="s_0">.</span><span class="s_b">memoizedSort</span><span class="s_b"> =</span><span class="s_b"> framework</span><span class="s_0">.</span><span class="s_5">createMemo</span><span class="s_0">();</span></span>
<span class="line"><span class="s_b">    this</span><span class="s_0">.</span><span class="s_b">virtualizer</span><span class="s_b"> =</span><span class="s_b"> framework</span><span class="s_0">.</span><span class="s_5">createVirtualizer</span><span class="s_0">();</span></span>
<span class="line"><span class="s_0">  }</span></span>
<span class="line"><span class="s_0">  </span></span>
<span class="line"><span class="s_5">  render</span><span class="s_0">() {</span></span>
<span class="line"><span class="s_9">    const</span><span class="s_b"> sorted</span><span class="s_b"> =</span><span class="s_b"> this</span><span class="s_0">.</span><span class="s_5">memoizedSort</span><span class="s_0">(</span></span>
<span class="line"><span class="s_0">      () </span><span class="s_9">=></span><span class="s_b"> this</span><span class="s_0">.</span><span class="s_b">props</span><span class="s_0">.</span><span class="s_b">products</span><span class="s_0">.</span><span class="s_5">sort</span><span class="s_0">((</span><span class="s_a">a</span><span class="s_0">, </span><span class="s_a">b</span><span class="s_0">) </span><span class="s_9">=></span><span class="s_b"> a</span><span class="s_0">.</span><span class="s_b">price</span><span class="s_1"> -</span><span class="s_b"> b</span><span class="s_0">.</span><span class="s_b">price</span><span class="s_0">),</span></span>
<span class="line"><span class="s_0">      [</span><span class="s_b">this</span><span class="s_0">.</span><span class="s_b">props</span><span class="s_0">.</span><span class="s_b">products</span><span class="s_0">]</span></span>
<span class="line"><span class="s_0">    );</span></span>
<span class="line"><span class="s_0">    </span></span>
<span class="line"><span class="s_1">    return</span><span class="s_b"> this</span><span class="s_0">.</span><span class="s_b">virtualizer</span><span class="s_0">.</span><span class="s_5">render</span><span class="s_0">(</span><span class="s_b">sorted</span><span class="s_0">, </span><span class="s_b">this</span><span class="s_0">.</span><span class="s_b">renderProduct</span><span class="s_0">);</span></span>
<span class="line"><span class="s_0">  }</span></span>
<span class="line"><span class="s_0">}</span></span></code></pre></div><p>The burden extends to server-side operations where identical work repeats across requests. Each request rebuilds the same component hierarchies and executes predictable render logic:</p><div class=code-block><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_b">app</span><span class="s_0">.</span><span class="s_5">get</span><span class="s_0">(</span><span class="s_3">'/product/:id'</span><span class="s_0">, </span><span class="s_c">async</span><span class="s_0"> (</span><span class="s_a">req</span><span class="s_0">, </span><span class="s_a">res</span><span class="s_0">) </span><span class="s_9">=></span><span class="s_0"> {</span></span>
<span class="line"><span class="s_4">  // 1. Parse and compile component tree structure</span></span>
<span class="line"><span class="s_9">  const</span><span class="s_b"> componentTree</span><span class="s_b"> =</span><span class="s_5"> buildServerComponents</span><span class="s_0">();</span></span>
<span class="line"><span class="s_0">  </span></span>
<span class="line"><span class="s_4">  // 2. Resolve data dependencies </span></span>
<span class="line"><span class="s_9">  const</span><span class="s_b"> productData</span><span class="s_b"> =</span><span class="s_1"> await</span><span class="s_5"> fetchProduct</span><span class="s_0">(</span><span class="s_b">req</span><span class="s_0">.</span><span class="s_b">params</span><span class="s_0">.</span><span class="s_b">id</span><span class="s_0">);</span></span>
<span class="line"><span class="s_9">  const</span><span class="s_b"> recommendations</span><span class="s_b"> =</span><span class="s_1"> await</span><span class="s_5"> fetchRecommendations</span><span class="s_0">(</span><span class="s_b">productData</span><span class="s_0">.</span><span class="s_b">category</span><span class="s_0">);</span></span>
<span class="line"><span class="s_0">  </span></span>
<span class="line"><span class="s_4">  // 3. Execute render logic</span></span>
<span class="line"><span class="s_9">  const</span><span class="s_b"> html</span><span class="s_b"> =</span><span class="s_b"> framework</span><span class="s_0">.</span><span class="s_5">renderToString</span><span class="s_0">(</span><span class="s_3">'ProductPage'</span><span class="s_0">, {</span></span>
<span class="line"><span class="s_0">    product: </span><span class="s_b">productData</span><span class="s_0">,</span></span>
<span class="line"><span class="s_0">    recommendations: </span><span class="s_b">recommendations</span></span>
<span class="line"><span class="s_0">  });</span></span>
<span class="line"><span class="s_0">  </span></span>
<span class="line"><span class="s_4">  // 4. Generate final HTML with boilerplate</span></span>
<span class="line"><span class="s_b">  res</span><span class="s_0">.</span><span class="s_5">send</span><span class="s_0">(</span><span class="s_5">wrapWithLayout</span><span class="s_0">(</span><span class="s_b">html</span><span class="s_0">));</span></span>
<span class="line"><span class="s_0">});</span></span></code></pre></div><p>Every request performs template compilation, dependency resolution, and HTML generation work that could be pre-computed for static portions. This overhead multiplies across concurrent users, consuming server resources and increasing response times.</p><p>The burden shifts to users because frameworks prioritize developer convenience over runtime efficiency. Each user pays CPU cycles and battery life for analysis that benefits no one after the first calculation. Applications with millions of users repeat identical computations billions of times, consuming collective resources that could be eliminated through build-time analysis.</p></section></section><section id=three-solutions><h2><a href=#three-solutions>Three Solutions</a></h2><p>Marko addresses these problems through fundamental architectural decisions that eliminate the tradeoffs rather than managing them. The approach focuses on extending HTML&#39;s capabilities while preserving its strengths.</p><section id=augment-html><h3><a href=#augment-html>Augment HTML</a></h3><p>Rather than generating HTML from JavaScript, Marko enhances HTML with the language features modern applications require. This preserves platform alignment while addressing scalability limitations.</p><p>Templates begin as familiar HTML and evolve naturally. Almost all HTML code works as Marko code.</p><div class=code-block><div class=filename>products.marko</div><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_1">h1</span><span class="s_0">>My Products&#x3C;/</span><span class="s_1">h1</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">ul</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  &#x3C;</span><span class="s_1">li</span><span class="s_0">>Widget - $10&#x3C;/</span><span class="s_1">li</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  &#x3C;</span><span class="s_1">li</span><span class="s_0">>Gadget - $15&#x3C;/</span><span class="s_1">li</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">ul</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_1">h1</span><span class="s_0"> -- My Products</span></span>
<span class="line"><span class="s_1">ul</span></span>
<span class="line"><span class="s_1">  li</span><span class="s_0"> -- Widget - $10</span></span>
<span class="line"><span class="s_1">  li</span><span class="s_0"> -- Gadget - $15</span></span></code></pre></div></div><p>State and control flow integrate directly into the markup:</p><div class=code-block><div class=filename>products.marko</div><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_1">h1</span><span class="s_0">>My Products&#x3C;/</span><span class="s_1">h1</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">ul</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  &#x3C;</span><span class="s_1">for</span><span class="s_0">|</span><span class="s_a">product</span><span class="s_0">| </span><span class="s_2">of</span><span class="s_b">=input</span><span class="s_0">.</span><span class="s_b">products</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">    &#x3C;</span><span class="s_1">li</span><span class="s_0">></span><span class="s_e">${</span><span class="s_b">product</span><span class="s_0">.</span><span class="s_b">name</span><span class="s_e">}</span><span class="s_0"> - $</span><span class="s_e">${</span><span class="s_b">product</span><span class="s_0">.</span><span class="s_b">price</span><span class="s_e">}</span><span class="s_0">&#x3C;/</span><span class="s_1">li</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  &#x3C;/</span><span class="s_1">for</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">ul</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_1">h1</span><span class="s_0"> -- My Products</span></span>
<span class="line"><span class="s_1">ul</span></span>
<span class="line"><span class="s_1">  for</span><span class="s_0">|</span><span class="s_a">product</span><span class="s_0">| </span><span class="s_2">of</span><span class="s_b">=input</span><span class="s_0">.</span><span class="s_b">products</span></span>
<span class="line"><span class="s_1">    li</span><span class="s_0"> -- </span><span class="s_e">${</span><span class="s_b">product</span><span class="s_0">.</span><span class="s_b">name</span><span class="s_e">}</span><span class="s_0"> - $</span><span class="s_e">${</span><span class="s_b">product</span><span class="s_0">.</span><span class="s_b">price</span><span class="s_e">}</span></span></code></pre></div></div><p>Asynchronous operations become declarative:</p><div class=code-block><div class=filename>products.marko</div><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_1">h1</span><span class="s_0">>My Products&#x3C;/</span><span class="s_1">h1</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">try</span><span class="s_0">></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">  &#x3C;</span><span class="s_2">@placeholder</span><span class="s_0">>Loading products...&#x3C;/</span><span class="s_2">@placeholder</span><span class="s_0">></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">  &#x3C;</span><span class="s_2">@catch</span><span class="s_0">|</span><span class="s_a">error</span><span class="s_0">|></span></span>
<span class="line"><span class="s_0">    Failed to load: </span><span class="s_e">${</span><span class="s_b">error</span><span class="s_0">.</span><span class="s_b">message</span><span class="s_e">}</span></span>
<span class="line"><span class="s_0">  &#x3C;/</span><span class="s_2">@catch</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  &#x3C;</span><span class="s_1">await</span><span class="s_0">|</span><span class="s_a">products</span><span class="s_0">|</span><span class="s_b">=</span><span class="s_5">fetchProducts</span><span class="s_0">()></span></span>
<span class="line"><span class="s_0">    &#x3C;</span><span class="s_1">ul</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">      &#x3C;</span><span class="s_1">for</span><span class="s_0">|</span><span class="s_a">product</span><span class="s_0">| </span><span class="s_2">of</span><span class="s_b">=products</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">        &#x3C;</span><span class="s_1">li</span><span class="s_0">></span><span class="s_e">${</span><span class="s_b">product</span><span class="s_0">.</span><span class="s_b">name</span><span class="s_e">}</span><span class="s_0"> - $</span><span class="s_e">${</span><span class="s_b">product</span><span class="s_0">.</span><span class="s_b">price</span><span class="s_e">}</span><span class="s_0">&#x3C;/</span><span class="s_1">li</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">      &#x3C;/</span><span class="s_1">for</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">    &#x3C;/</span><span class="s_1">ul</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  &#x3C;/</span><span class="s_1">await</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">try</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_1">h1</span><span class="s_0"> -- My Products</span></span>
<span class="line"><span class="s_1">try</span></span>
<span class="line"></span>
<span class="line"><span class="s_2">  @placeholder</span><span class="s_0"> -- Loading products...</span></span>
<span class="line"></span>
<span class="line"><span class="s_2">  @catch</span><span class="s_0">|</span><span class="s_a">error</span><span class="s_0">| -- Failed to load: </span><span class="s_e">${</span><span class="s_b">error</span><span class="s_0">.</span><span class="s_b">message</span><span class="s_e">}</span></span>
<span class="line"><span class="s_1">  await</span><span class="s_0">|</span><span class="s_a">products</span><span class="s_0">|</span><span class="s_b">=</span><span class="s_5">fetchProducts</span><span class="s_0">()</span></span>
<span class="line"><span class="s_1">    ul</span></span>
<span class="line"><span class="s_1">      for</span><span class="s_0">|</span><span class="s_a">product</span><span class="s_0">| </span><span class="s_2">of</span><span class="s_b">=products</span></span>
<span class="line"><span class="s_1">        li</span><span class="s_0"> -- </span><span class="s_e">${</span><span class="s_b">product</span><span class="s_0">.</span><span class="s_b">name</span><span class="s_e">}</span><span class="s_0"> - $</span><span class="s_e">${</span><span class="s_b">product</span><span class="s_0">.</span><span class="s_b">price</span><span class="s_e">}</span></span></code></pre></div></div><p>This progression requires no architectural changes. State management becomes part of the markup language, eliminating the conceptual gap between document structure and application logic. The approach preserves HTML&#39;s readability and browser compatibility while adding necessary capabilities.</p></section><section id=component-encapsulation><h3><a href=#component-encapsulation>Component Encapsulation</a></h3><p>Marko provides true component encapsulation without the boilerplate and complexity of custom elements. Components group related HTML, styling, and behavior into cohesive units that work declaratively rather than imperatively.</p><p>The modal component that required extensive custom element setup becomes straightforward:</p><div class=code-block><div class=filename>modal.marko</div><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_e">let</span><span class="s_0">/</span><span class="s_b">open=</span><span class="s_6">false</span><span class="s_0">></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">button</span><span class="s_f"> onClick</span><span class="s_0">() { </span><span class="s_b">open</span><span class="s_b"> =</span><span class="s_6"> true</span><span class="s_0"> }></span></span>
<span class="line"><span class="s_0">  Open Modal</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">button</span><span class="s_0">></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">div</span><span class="s_2"> style</span><span class="s_b">=</span><span class="s_0">{ display: </span><span class="s_b">open</span><span class="s_1"> ?</span><span class="s_3"> "block"</span><span class="s_1"> :</span><span class="s_3"> "none"</span><span class="s_0"> } </span><span class="s_2">class</span><span class="s_b">=styles</span><span class="s_0">.</span><span class="s_b">modalContent</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  &#x3C;</span><span class="s_1">button</span><span class="s_f"> onClick</span><span class="s_0">() { </span><span class="s_b">open</span><span class="s_b"> =</span><span class="s_6"> false</span><span class="s_0"> }></span></span>
<span class="line"><span class="s_0">    ×</span></span>
<span class="line"><span class="s_0">  &#x3C;/</span><span class="s_1">button</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  &#x3C;</span><span class="s_e">${</span><span class="s_b">input</span><span class="s_0">.</span><span class="s_b">content</span><span class="s_e">}</span><span class="s_0">/></span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">div</span><span class="s_0">></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_f">style</span><span class="s_0">/</span><span class="s_b">styles</span><span class="s_0">></span></span>
<span class="line"><span class="s_2">  .modalContent</span><span class="s_0"> {</span></span>
<span class="line"><span class="s_f">    background</span><span class="s_0">: </span><span class="s_e">white</span><span class="s_0">;</span></span>
<span class="line"><span class="s_f">    margin</span><span class="s_0">: </span><span class="s_6">50</span><span class="s_1">px</span><span class="s_e"> auto</span><span class="s_0">;</span></span>
<span class="line"><span class="s_f">    padding</span><span class="s_0">: </span><span class="s_6">20</span><span class="s_1">px</span><span class="s_0">;</span></span>
<span class="line"><span class="s_f">    width</span><span class="s_0">: </span><span class="s_6">300</span><span class="s_1">px</span><span class="s_0">;</span></span>
<span class="line"><span class="s_0">  }</span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_f">style</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_e">let</span><span class="s_0">/</span><span class="s_b">open=</span><span class="s_6">false</span></span>
<span class="line"></span>
<span class="line"><span class="s_1">button</span><span class="s_f"> onClick</span><span class="s_0">() { </span><span class="s_b">open</span><span class="s_b"> =</span><span class="s_6"> true</span><span class="s_0"> } -- Open Modal</span></span>
<span class="line"></span>
<span class="line"><span class="s_1">div</span><span class="s_2"> style</span><span class="s_b">=</span><span class="s_0">{ display: </span><span class="s_b">open</span><span class="s_1"> ?</span><span class="s_3"> "block"</span><span class="s_1"> :</span><span class="s_3"> "none"</span><span class="s_0"> } </span><span class="s_2">class</span><span class="s_b">=styles</span><span class="s_0">.</span><span class="s_b">modalContent</span></span>
<span class="line"><span class="s_1">  button</span><span class="s_f"> onClick</span><span class="s_0">() { </span><span class="s_b">open</span><span class="s_b"> =</span><span class="s_6"> false</span><span class="s_0"> } -- ×</span></span>
<span class="line"><span class="s_e">  ${</span><span class="s_b">input</span><span class="s_0">.</span><span class="s_b">content</span><span class="s_e">}</span></span>
<span class="line"></span>
<span class="line"><span class="s_f">style</span><span class="s_0">/</span><span class="s_b">styles</span><span class="s_0"> --</span></span>
<span class="line"><span class="s_7">  .</span><span class="s_2">modalContent</span><span class="s_7"> {</span></span>
<span class="line"><span class="s_2">    background</span><span class="s_7">:</span><span class="s_2"> white</span><span class="s_0">;</span></span>
<span class="line"><span class="s_2">    margin</span><span class="s_7">:</span><span class="s_2"> 50px</span><span class="s_2"> auto</span><span class="s_0">;</span></span>
<span class="line"><span class="s_2">    padding</span><span class="s_7">:</span><span class="s_2"> 20px</span><span class="s_0">;</span></span>
<span class="line"><span class="s_2">    width</span><span class="s_7">:</span><span class="s_2"> 300px</span><span class="s_0">;</span></span>
<span class="line"><span class="s_7">  }</span></span></code></pre></div></div><style>.s_f{--shiki-light:#0D7BBF;--shiki-light-font-style:italic;--shiki-dark:#66D9EF;--shiki-dark-font-style:italic}</style><p>Usage requires no imperative API calls or manual state coordination:</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_1">modal</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  &#x3C;</span><span class="s_1">p</span><span class="s_0">>Modal content goes here&#x3C;/</span><span class="s_1">p</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">modal</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_1">modal</span></span>
<span class="line"><span class="s_1">  p</span><span class="s_0"> -- Modal content goes here</span></span></code></pre></div></div><p>State flows declaratively through the component. Opening and closing behaviors integrate naturally with the markup structure.</p><p>This encapsulation extends to interactive components. Consider a rating component that coordinates between multiple elements:</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_e">let</span><span class="s_0">/</span><span class="s_b">rating=</span><span class="s_6">0</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_e">let</span><span class="s_0">/</span><span class="s_b">hovering=</span><span class="s_6">0</span><span class="s_0">></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">div</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  &#x3C;</span><span class="s_1">for</span><span class="s_0">|</span><span class="s_a">i</span><span class="s_0">| </span><span class="s_2">from</span><span class="s_b">=</span><span class="s_6">1</span><span class="s_2"> to</span><span class="s_b">=</span><span class="s_6">5</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">    &#x3C;</span><span class="s_1">button</span></span>
<span class="line"><span class="s_2">      class</span><span class="s_b">=</span><span class="s_0">((</span><span class="s_b">hovering</span><span class="s_1"> ||</span><span class="s_b"> rating</span><span class="s_0">) </span><span class="s_1">>=</span><span class="s_b"> i</span><span class="s_1"> &#x26;&#x26;</span><span class="s_3"> 'filled'</span><span class="s_0">)</span></span>
<span class="line"><span class="s_f">      onPointerEnter</span><span class="s_0">() { </span><span class="s_b">hovering</span><span class="s_b"> =</span><span class="s_b"> i</span><span class="s_0"> }</span></span>
<span class="line"><span class="s_f">      onPointerLeave</span><span class="s_0">() { </span><span class="s_b">hovering</span><span class="s_b"> =</span><span class="s_6"> 0</span><span class="s_0"> }</span></span>
<span class="line"><span class="s_f">      onClick</span><span class="s_0">() { </span><span class="s_b">rating</span><span class="s_b"> =</span><span class="s_b"> i</span><span class="s_0">; </span><span class="s_b">hovering</span><span class="s_b"> =</span><span class="s_6"> 0</span><span class="s_0"> }></span></span>
<span class="line"><span class="s_0">      *</span></span>
<span class="line"><span class="s_0">    &#x3C;/</span><span class="s_1">button</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  &#x3C;/</span><span class="s_1">for</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  &#x3C;</span><span class="s_1">span</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">    &#x3C;</span><span class="s_1">if</span><span class="s_b">=</span><span class="s_0">(</span><span class="s_b">hovering</span><span class="s_1"> ></span><span class="s_6"> 0</span><span class="s_0">)></span></span>
<span class="line"><span class="s_e">      ${</span><span class="s_b">hovering</span><span class="s_e">}</span><span class="s_0"> star</span><span class="s_e">${</span><span class="s_b">hovering</span><span class="s_1"> ></span><span class="s_6"> 1</span><span class="s_1"> ?</span><span class="s_3"> 's'</span><span class="s_1"> :</span><span class="s_3"> ''</span><span class="s_e">}</span></span>
<span class="line"><span class="s_0">    &#x3C;/</span><span class="s_1">if</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">    &#x3C;</span><span class="s_1">else</span><span class="s_2"> if</span><span class="s_b">=</span><span class="s_0">(</span><span class="s_b">rating</span><span class="s_1"> ></span><span class="s_6"> 0</span><span class="s_0">)></span></span>
<span class="line"><span class="s_0">      Rated </span><span class="s_e">${</span><span class="s_b">rating</span><span class="s_e">}</span><span class="s_0"> star</span><span class="s_e">${</span><span class="s_b">rating</span><span class="s_1"> ></span><span class="s_6"> 1</span><span class="s_1"> ?</span><span class="s_3"> 's'</span><span class="s_1"> :</span><span class="s_3"> ''</span><span class="s_e">}</span></span>
<span class="line"><span class="s_0">    &#x3C;/</span><span class="s_1">else</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">    &#x3C;</span><span class="s_1">else</span><span class="s_0">>Click to rate&#x3C;/</span><span class="s_1">else</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  &#x3C;/</span><span class="s_1">span</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">div</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_e">let</span><span class="s_0">/</span><span class="s_b">rating=</span><span class="s_6">0</span></span>
<span class="line"><span class="s_e">let</span><span class="s_0">/</span><span class="s_b">hovering=</span><span class="s_6">0</span></span>
<span class="line"></span>
<span class="line"><span class="s_1">div</span></span>
<span class="line"><span class="s_1">  for</span><span class="s_0">|</span><span class="s_a">i</span><span class="s_0">| </span><span class="s_2">from</span><span class="s_b">=</span><span class="s_6">1</span><span class="s_2"> to</span><span class="s_b">=</span><span class="s_6">5</span></span>
<span class="line"><span class="s_1">    button</span></span>
<span class="line"><span class="s_0">      ,</span><span class="s_2">class</span><span class="s_b">=</span><span class="s_0">((</span><span class="s_b">hovering</span><span class="s_1"> ||</span><span class="s_b"> rating</span><span class="s_0">) </span><span class="s_1">>=</span><span class="s_b"> i</span><span class="s_1"> &#x26;&#x26;</span><span class="s_3"> 'filled'</span><span class="s_0">)</span></span>
<span class="line"><span class="s_0">      ,</span><span class="s_f">onPointerEnter</span><span class="s_0">() { </span><span class="s_b">hovering</span><span class="s_b"> =</span><span class="s_b"> i</span><span class="s_0"> }</span></span>
<span class="line"><span class="s_0">      ,</span><span class="s_f">onPointerLeave</span><span class="s_0">() { </span><span class="s_b">hovering</span><span class="s_b"> =</span><span class="s_6"> 0</span><span class="s_0"> }</span></span>
<span class="line"><span class="s_0">      ,</span><span class="s_f">onClick</span><span class="s_0">() { </span><span class="s_b">rating</span><span class="s_b"> =</span><span class="s_b"> i</span><span class="s_0">; </span><span class="s_b">hovering</span><span class="s_b"> =</span><span class="s_6"> 0</span><span class="s_0"> }</span></span>
<span class="line"><span class="s_0">      -- *</span></span>
<span class="line"><span class="s_1">  span</span></span>
<span class="line"><span class="s_1">    if</span><span class="s_b">=</span><span class="s_0">(</span><span class="s_b">hovering</span><span class="s_1"> ></span><span class="s_6"> 0</span><span class="s_0">) -- </span><span class="s_e">${</span><span class="s_b">hovering</span><span class="s_e">}</span><span class="s_0"> star</span><span class="s_e">${</span><span class="s_b">hovering</span><span class="s_1"> ></span><span class="s_6"> 1</span><span class="s_1"> ?</span><span class="s_3"> 's'</span><span class="s_1"> :</span><span class="s_3"> ''</span><span class="s_e">}</span></span>
<span class="line"><span class="s_1">    else</span><span class="s_2"> if</span><span class="s_b">=</span><span class="s_0">(</span><span class="s_b">rating</span><span class="s_1"> ></span><span class="s_6"> 0</span><span class="s_0">) -- Rated </span><span class="s_e">${</span><span class="s_b">rating</span><span class="s_e">}</span><span class="s_0"> star</span><span class="s_e">${</span><span class="s_b">rating</span><span class="s_1"> ></span><span class="s_6"> 1</span><span class="s_1"> ?</span><span class="s_3"> 's'</span><span class="s_1"> :</span><span class="s_3"> ''</span><span class="s_e">}</span></span>
<span class="line"><span class="s_1">    else</span><span class="s_0"> -- Click to rate</span></span></code></pre></div></div><p>Component communication happens through props and events rather than global references or manual coordination. State changes propagate automatically to dependent elements without explicit wiring.</p></section><section id=compile-time-intelligence><h3><a href=#compile-time-intelligence>Compile-Time Intelligence</a></h3><p>Marko&#39;s compilation approach enables optimizations that runtime-only solutions cannot achieve. By analyzing templates during the build process, the compiler makes decisions about code generation, dependency tracking, and performance optimizations that would be impossible or expensive at runtime.</p><p>Selective code generation produces minimal JavaScript bundles:</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_1">div</span><span class="s_0">></span></span>
<span class="line"><span class="s_4">  // Static content: no JavaScript generated</span></span>
<span class="line"><span class="s_0">  &#x3C;</span><span class="s_1">p</span><span class="s_0">>This is static content&#x3C;/</span><span class="s_1">p</span><span class="s_0">></span></span>
<span class="line"><span class="s_4">  // Stateful content: targeted JavaScript generated</span></span>
<span class="line"><span class="s_0">  &#x3C;</span><span class="s_e">let</span><span class="s_0">/</span><span class="s_b">count=</span><span class="s_6">0</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">  &#x3C;</span><span class="s_1">button</span><span class="s_f"> onClick</span><span class="s_0">() { </span><span class="s_b">count</span><span class="s_1">++</span><span class="s_0"> }></span></span>
<span class="line"><span class="s_0">    Clicked </span><span class="s_e">${</span><span class="s_b">count</span><span class="s_e">}</span><span class="s_0"> times</span></span>
<span class="line"><span class="s_0">  &#x3C;/</span><span class="s_1">button</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;/</span><span class="s_1">div</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_1">div</span></span>
<span class="line"><span class="s_4">  // Static content: no JavaScript generated</span></span>
<span class="line"><span class="s_1">  p</span><span class="s_0"> -- This is static content</span></span>
<span class="line"><span class="s_4">  // Stateful content: targeted JavaScript generated</span></span>
<span class="line"><span class="s_e">  let</span><span class="s_0">/</span><span class="s_b">count=</span><span class="s_6">0</span></span>
<span class="line"><span class="s_1">  button</span><span class="s_f"> onClick</span><span class="s_0">() { </span><span class="s_b">count</span><span class="s_1">++</span><span class="s_0"> } -- Clicked </span><span class="s_e">${</span><span class="s_b">count</span><span class="s_e">}</span><span class="s_0"> times</span></span></code></pre></div></div><p>The compiler generates client-side JavaScript only for components requiring interactive behavior. Static content compiles to plain HTML, while dynamic sections include only necessary JavaScript for their specific behavior.</p><p>Reactivity analysis happens at compile time rather than runtime:</p><div class=code-block><div class="html html-ts"><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_0">&#x3C;</span><span class="s_e">let</span><span class="s_0">/</span><span class="s_b">firstName=</span><span class="s_3">"John"</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_e">let</span><span class="s_0">/</span><span class="s_b">lastName=</span><span class="s_3">"Doe"</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_e">const</span><span class="s_0">/</span><span class="s_b">fullName=</span><span class="s_3">`</span><span class="s_e">${</span><span class="s_b">firstName</span><span class="s_e">}</span><span class="s_e"> ${</span><span class="s_b">lastName</span><span class="s_e">}</span><span class="s_3">`</span><span class="s_0">></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">input</span><span class="s_2"> value</span><span class="s_0">:</span><span class="s_b">=firstName</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">input</span><span class="s_2"> value</span><span class="s_0">:</span><span class="s_b">=lastName</span><span class="s_0">></span></span>
<span class="line"></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">h1</span><span class="s_0">>Hello, </span><span class="s_e">${</span><span class="s_b">fullName</span><span class="s_e">}</span><span class="s_0">!&#x3C;/</span><span class="s_1">h1</span><span class="s_0">></span></span>
<span class="line"><span class="s_0">&#x3C;</span><span class="s_1">p</span><span class="s_0">>Your initials are </span><span class="s_e">${</span><span class="s_b">firstName</span><span class="s_0">[</span><span class="s_6">0</span><span class="s_0">]</span><span class="s_e">}${</span><span class="s_b">lastName</span><span class="s_0">[</span><span class="s_6">0</span><span class="s_0">]</span><span class="s_e">}</span><span class="s_0">&#x3C;/</span><span class="s_1">p</span><span class="s_0">></span></span></code></pre></div><div class="concise concise-ts"><pre class="shiki shiki-themes marko-light marko-dark s_8" tabindex="0"><code><span class="line"><span class="s_e">let</span><span class="s_0">/</span><span class="s_b">firstName=</span><span class="s_3">"John"</span></span>
<span class="line"><span class="s_e">let</span><span class="s_0">/</span><span class="s_b">lastName=</span><span class="s_3">"Doe"</span></span>
<span class="line"><span class="s_e">const</span><span class="s_0">/</span><span class="s_b">fullName=</span><span class="s_3">`</span><span class="s_e">${</span><span class="s_b">firstName</span><span class="s_e">}</span><span class="s_e"> ${</span><span class="s_b">lastName</span><span class="s_e">}</span><span class="s_3">`</span></span>
<span class="line"></span>
<span class="line"><span class="s_1">input</span><span class="s_2"> value</span><span class="s_0">:</span><span class="s_b">=firstName</span></span>
<span class="line"><span class="s_1">input</span><span class="s_2"> value</span><span class="s_0">:</span><span class="s_b">=lastName</span></span>
<span class="line"></span>
<span class="line"><span class="s_1">h1</span><span class="s_0"> -- Hello, </span><span class="s_e">${</span><span class="s_b">fullName</span><span class="s_e">}</span><span class="s_0">!</span></span>
<span class="line"><span class="s_1">p</span><span class="s_0"> -- Your initials are </span><span class="s_e">${</span><span class="s_b">firstName</span><span class="s_0">[</span><span class="s_6">0</span><span class="s_0">]</span><span class="s_e">}${</span><span class="s_b">lastName</span><span class="s_0">[</span><span class="s_6">0</span><span class="s_0">]</span><span class="s_e">}</span></span></code></pre></div></div><p>When <code>firstName</code> changes, the compiler ensures updates to the input value, derived <code>fullName</code>, h1 text, and paragraph initials. This analysis generates optimal update code affecting only dependent elements, eliminating runtime dependency tracking overhead while enabling surgical DOM updates.</p><p>Dual environment optimization compiles templates separately for server and client, each optimized for specific constraints. Server compilation prioritizes HTML generation throughput with efficient string concatenation and streaming support. Client compilation focuses on bundle size and precise updates, generating direct DOM manipulation rather than framework abstractions.</p></section></section><section id=the-result><h2><a href=#the-result>The Result</a></h2><p>These architectural decisions produce applications with characteristics that improve rather than degrade over time. The compilation approach handles complexity at build time, allowing development teams to focus on feature implementation rather than framework coordination.</p><p>Performance becomes automatic rather than effortful. Default streaming delivers content as soon as available. Selective JavaScript generation minimizes bundle sizes while maintaining full functionality. Precise updates affect only dependent DOM nodes. Progressive loading renders critical content first while interactive features enhance progressively.</p><p>Maintainability emerges from systematic design. Co-located concerns ensure component structure, styling, and behavior remain unified, eliminating coordination overhead that typically grows with application complexity. TypeScript integration provides template-level type checking equivalent to JavaScript analysis. The compiler identifies error categories at build time that would otherwise manifest as runtime failures.</p><p>Component flexibility supports evolving requirements without architectural changes. Applications can start with simple uncontrolled components and add coordination as needed, or implement complex validation and synchronization patterns when appropriate.</p><p>Progressive enhancement occurs naturally from the architecture. Applications function without JavaScript and enhance with it, supporting diverse user environments and improving resilience. This characteristic becomes increasingly valuable as applications serve broader user bases with varying device capabilities and network conditions.</p><p>The result is a development approach that aligns with web platform evolution rather than working against it, producing applications that achieve high performance and maintainability through systematic design rather than optimization techniques.</p></section><section id=next-steps><h2><a href=#next-steps>Next Steps</a></h2><ul><li><a href=./welcome-to-marko>Welcome to Marko</a></li><li><a href=../tutorial/components-and-reactivity>Components &amp; Reactivity Tutorial</a></li><li><a href=../reference/language>Language Reference</a></li></ul></section><hr><section id=_c4><h2 id=contributors><a href=#contributors>Contributors</a></h2><p>Helpful? You can thank these awesome people! You can also edit this doc if you see any issues or want to improve it.</p><script>(e=>(self[e]=(l,d=e+l,f=d.length,o={},n=[],s=document,t=s.createTreeWalker(s,129))=>s=self[e][l]={i:d,d:s,l:o,v:n,x(){},w(e,l,x){for(;e=t.nextNode();)s.x(l=(l=e.data)&&!l.indexOf(d)&&(o[x=l.slice(f+1)]=e,l[f]),x,e),l>"#"&&n.push(e)}},self[e]))("M")("_");M._.r=[_=>(_.kb=[{params:{},url:new URL("http://localhost/docs/introduction/why-marko")},5,{4:!1},_.b={0:_.a={3:"concise-mode"},1:9,3:_.c={3:"ts-mode"},4:11,41:_.e={10:_.d={"aria-label":"Toggle Concise mode",checked:!1},f3:0},42:_.g={10:_.f={"aria-label":"Toggle TS mode",checked:!1},f3:0},43:!1,44:!1},_.a,1,_.c,1,{d1:_.h={},c1:"n5"},_.h,{d1:_.i={},c1:"n6"},_.i,{d1:_.j={},c1:"n7"},_.j,{d1:_.k={},c1:"n8"},_.k,{d1:_.l={},c1:"n9"},_.l,{d1:_.m={},c1:"n10"},_.m,{d1:_.n={},c1:"n11"},_.n,{d1:_.o={},c1:"n12"},_.o,{d1:_.p={},c1:"n13"},_.p,{d1:_.q={},c1:"n14"},_.q,{d1:_.r={},c1:"n15"},_.r,{d1:_.s={},c1:"n16"},_.s,{d1:_.t={},c1:"n17"},_.t,{d1:_.u={},c1:"n18"},_.u,{d1:_.v={},c1:"n19"},_.v,{d1:_.w={},c1:"n20"},_.w,{d1:_.x={},c1:"n21"},_.x,{d1:_.y={},c1:"n22"},_.y,{d1:_.z={},c1:"n23"},_.z,{d1:_.A={},c1:"n24"},_.A,{d1:_.B={},c1:"n25"},_.B,{d1:_.C={},c1:"n26"},_.C,{d1:_.D={},c1:"n27"},_.D,{d1:_.E={},c1:"n28"},_.E,{d1:_.F={},c1:"n29"},_.F,{d1:_.G={},c1:"n30"},_.G,{d1:_.H={},c1:"n31"},_.H,{d1:_.I={},c1:"n32"},_.I,{d1:_.J={},c1:"n33"},_.J,{d1:_.K={},c1:"n34"},_.K,_.e,{5:{},7:576,8:512},1,_.g,{5:{},7:576,8:512},2,_.L={11:_.M={}},69,_.Y={m0:new Map(_.N=[[0,_.W={5:"three-problems",7:[{id:"html-cant-scale",title:"HTML Can't Scale",children:_.P=[]},{id:"component-coordination",title:"Component Coordination",children:_.S=[]},{id:"runtime-burden",title:"Runtime Burden",children:_.U=[]}],c2:0,d2:_.X={d0:_.Q={m0:new Map(_.O=[[0,_.R={5:"html-cant-scale",7:_.P}],[1,_.T={5:"component-coordination",7:_.S}],[2,_.V={5:"runtime-burden",7:_.U}]]),_:_.L},c0:"i1"}}],[1,_.gb={5:"three-solutions",7:[{id:"augment-html",title:"Augment HTML",children:_.$=[]},{id:"component-encapsulation",title:"Component Encapsulation",children:_.cb=[]},{id:"compile-time-intelligence",title:"Compile-Time Intelligence",children:_.eb=[]}],c2:0,d2:_.hb={d0:_.ab={m0:new Map(_.Z=[[0,_.bb={5:"augment-html",7:_.$}],[1,_.db={5:"component-encapsulation",7:_.cb}],[2,_.fb={5:"compile-time-intelligence",7:_.eb}]]),_:_.L},c0:"i1"}}],[2,_.ib={5:"the-result",7:[]}],[3,_.jb={5:"next-steps",7:[]}]]),_:_.L},_.W,_.X,_.Q,_.R,_.T,_.V,_.gb,_.hb,_.ab,_.bb,_.db,_.fb,_.ib,_.jb],_.R._=_.T._=_.V._=_.Q,_.X._=_.W,_.W._=_.gb._=_.ib._=_.jb._=_.Y,_.bb._=_.db._=_.fb._=_.ab,_.hb._=_.gb,_.a.f=_._.d0(_.a),_.a.e=_._.n2(_.b),_.c.f=_._.d0(_.c),_.c.e=_._.n3(_.b),_.d.checkedChange=_.e.e3=_._.n0(_.b),_.f.checkedChange=_.g.e3=_._.n1(_.b),_.M.content=_._.i1(_.L),_.kb),"g0",5,"m0",6,"m1",6,"d1",8,10,"b0",73,"p0",72,"b0",76,"p0",75,"n35",7,"n36",7,"n37",7];M._.w()</script><ul><li><a href=https://github.com/LuLaValva><img src=https://avatars.githubusercontent.com/u/26027232?v=4 alt>LuLaValva</a></li><li><a href=https://github.com/marko-js/website-next/blob/main/docs/introduction/why-marko.md><div><svg viewBox="0 0 448 512"><path d="M256 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 160-160 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l160 0 0 160c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160 160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-160 0 0-160z"></path></svg><!--M_*168 0--></div>You?</a></li></ul></section></article><div class=_cW id=page-menu><nav aria-labelledby=sM_1 class=_cX id=_c2><ul><li><strong id=sM_1>On this Page</strong></li><li><a href=#three-problems>Three Problems<!--M_*150 1--></a><!--M_*150 0--><ul><!--M_[--><li><a href=#html-cant-scale>HTML Can't Scale<!--M_*153 1--></a><!--M_*153 0--><!--M_|153 2--></li><li><a href=#component-coordination>Component Coordination<!--M_*154 1--></a><!--M_*154 0--><!--M_|154 2--></li><li><a href=#runtime-burden>Runtime Burden<!--M_*155 1--></a><!--M_*155 0--><!--M_|155 2--></li><!--M_|152 0 155 154 153--><!--M_]151 0 152--></ul><!--M_|150 2 151--></li><li><a href=#three-solutions>Three Solutions<!--M_*156 1--></a><!--M_*156 0--><ul><!--M_[--><li><a href=#augment-html>Augment HTML<!--M_*159 1--></a><!--M_*159 0--><!--M_|159 2--></li><li><a href=#component-encapsulation>Component Encapsulation<!--M_*160 1--></a><!--M_*160 0--><!--M_|160 2--></li><li><a href=#compile-time-intelligence>Compile-Time Intelligence<!--M_*161 1--></a><!--M_*161 0--><!--M_|161 2--></li><!--M_|158 0 161 160 159--><!--M_]157 0 158--></ul><!--M_|156 2 157--></li><li><a href=#the-result>The Result<!--M_*162 1--></a><!--M_*162 0--><!--M_|162 2--></li><li><a href=#next-steps>Next Steps<!--M_*163 1--></a><!--M_*163 0--><!--M_|163 2--></li><!--M_|149 0 163 162 156 150--></ul></nav></div></main></div><footer id=_a><a href="https://openjsf.org/" class=_b><img src=/assets/openjsf-u4IcyPV8.svg alt> <span><span class=_e>OpenJS&nbsp;</span><span class=_f>Foundation</span></span></a><div class=_g></div><a href=https://github.com/marko-js/marko/blob/main/LICENSE class=_d><img src=/assets/osi-BEF6Mbrt.svg alt> MIT&nbsp;License</a><div class=_g></div><a href=https://github.com/eBay class=_c><img src=/assets/ebay-CSr9mcj_.svg alt=eBay> open&nbsp;source</a></footer><script>M._.r.push(_=>(_.lb=[4,{5:{},7:448,8:512}]),"b0",168,"i0",153,154,155,150,159,160,161,156,162,163);M._.w()</script></body></html>